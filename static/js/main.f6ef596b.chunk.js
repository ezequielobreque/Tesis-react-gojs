(this["webpackJsonptesis-cdbmd"]=this["webpackJsonptesis-cdbmd"]||[]).push([[6],{100:function(e,t,n){},101:function(e,t,n){"use strict";n.r(t);var i=n(2),a=n.n(i),r=n(20),o=n.n(r),s=n(21),l=n.n(s),c=n(53),d=(n(40),n(10)),u=n(0),h=n(34),p=n(9),g=n(11),m=n(13),f=n(12),y=n(57),j=n(58),b=n(19),v=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n),(e=t.call(this)).guidelineHtop=void 0,e.guidelineHbottom=void 0,e.guidelineHcenter=void 0,e.guidelineVleft=void 0,e.guidelineVright=void 0,e.guidelineVcenter=void 0,e._guidelineSnapDistance=6,e._isGuidelineEnabled=!0,e._horizontalGuidelineColor="gray",e._verticalGuidelineColor="gray",e._centerGuidelineColor="gray",e._guidelineWidth=1,e._searchDistance=1e3,e._isGuidelineSnapEnabled=!0;var i={layerName:"Tool",isInDocumentBounds:!1},a={stroke:"gray",isGeometryPositioned:!0},r=u.GraphObject.make;return e.guidelineHtop=r(u.Part,i,r(u.Shape,a,{geometryString:"M0 0 100 0"})),e.guidelineHbottom=r(u.Part,i,r(u.Shape,a,{geometryString:"M0 0 100 0"})),e.guidelineHcenter=r(u.Part,i,r(u.Shape,a,{geometryString:"M0 0 100 0"})),e.guidelineVleft=r(u.Part,i,r(u.Shape,a,{geometryString:"M0 0 0 100"})),e.guidelineVright=r(u.Part,i,r(u.Shape,a,{geometryString:"M0 0 0 100"})),e.guidelineVcenter=r(u.Part,i,r(u.Shape,a,{geometryString:"M0 0 0 100"})),e}return Object(g.a)(n,[{key:"guidelineSnapDistance",get:function(){return this._guidelineSnapDistance},set:function(e){if("number"!==typeof e||isNaN(e)||e<0)throw new Error("new value for GuideddraggingTool.guidelineSnapDistance must be a non-negative number");this._guidelineSnapDistance!==e&&(this._guidelineSnapDistance=e)}},{key:"isGuidelineEnabled",get:function(){return this._isGuidelineEnabled},set:function(e){if("boolean"!==typeof e)throw new Error("new value for GuidedDraggingTool.isGuidelineEnabled must be a boolean value.");this._isGuidelineEnabled!==e&&(this._isGuidelineEnabled=e)}},{key:"horizontalGuidelineColor",get:function(){return this._horizontalGuidelineColor},set:function(e){this._horizontalGuidelineColor!==e&&(this._horizontalGuidelineColor=e,this.guidelineHbottom.elements.first().stroke=this._horizontalGuidelineColor,this.guidelineHtop.elements.first().stroke=this._horizontalGuidelineColor)}},{key:"verticalGuidelineColor",get:function(){return this._verticalGuidelineColor},set:function(e){this._verticalGuidelineColor!==e&&(this._verticalGuidelineColor=e,this.guidelineVleft.elements.first().stroke=this._verticalGuidelineColor,this.guidelineVright.elements.first().stroke=this._verticalGuidelineColor)}},{key:"centerGuidelineColor",get:function(){return this._centerGuidelineColor},set:function(e){this._centerGuidelineColor!==e&&(this._centerGuidelineColor=e,this.guidelineVcenter.elements.first().stroke=this._centerGuidelineColor,this.guidelineHcenter.elements.first().stroke=this._centerGuidelineColor)}},{key:"guidelineWidth",get:function(){return this._guidelineWidth},set:function(e){if("number"!==typeof e||isNaN(e)||e<0)throw new Error("New value for GuidedDraggingTool.guidelineWidth must be a non-negative number.");this._guidelineWidth!==e&&(this._guidelineWidth=e,this.guidelineVcenter.elements.first().strokeWidth=e,this.guidelineHcenter.elements.first().strokeWidth=e,this.guidelineVleft.elements.first().strokeWidth=e,this.guidelineVright.elements.first().strokeWidth=e,this.guidelineHbottom.elements.first().strokeWidth=e,this.guidelineHtop.elements.first().strokeWidth=e)}},{key:"searchDistance",get:function(){return this._searchDistance},set:function(e){if("number"!==typeof e||isNaN(e)||e<=0)throw new Error("new value for GuidedDraggingTool.searchDistance must be a positive number.");this._searchDistance!==e&&(this._searchDistance=e)}},{key:"isGuidelineSnapEnabled",get:function(){return this._isGuidelineSnapEnabled},set:function(e){if("boolean"!==typeof e)throw new Error("new value for GuidedDraggingTool.isGuidelineSnapEnabled must be a boolean.");this._isGuidelineSnapEnabled!==e&&(this._isGuidelineSnapEnabled=e)}},{key:"clearGuidelines",value:function(){this.diagram.remove(this.guidelineHbottom),this.diagram.remove(this.guidelineHcenter),this.diagram.remove(this.guidelineHtop),this.diagram.remove(this.guidelineVleft),this.diagram.remove(this.guidelineVright),this.diagram.remove(this.guidelineVcenter)}},{key:"doDeactivate",value:function(){Object(j.a)(Object(b.a)(n.prototype),"doDeactivate",this).call(this),this.clearGuidelines()}},{key:"doDragOver",value:function(e,t){this.clearGuidelines();var n=this.copiedParts||this.draggedParts;if(null!==n){var i=n.iterator;if(i.next()){var a=i.key;try{this.showHorizontalMatches(a,this.isGuidelineEnabled,!1),this.showVerticalMatches(a,this.isGuidelineEnabled,!1)}catch(r){console.error(r)}}}}},{key:"doDropOnto",value:function(e,t){this.clearGuidelines();var n=this.copiedParts||this.draggedParts;if(null!==n){var i=n.iterator;if(i.next()){var a=i.key,r=this.diagram.lastInput,o=this.isGuidelineSnapEnabled&&!r.shift;try{this.showHorizontalMatches(a,!1,o),this.showVerticalMatches(a,!1,o)}catch(r){console.error(r)}}}}},{key:"invalidateLinks",value:function(e){e instanceof u.Node&&e.invalidateConnectedLinks()}},{key:"showHorizontalMatches",value:function(e,t,n){var i=e.locationObject.getDocumentBounds(),a=i.y,r=i.y+i.height/2,o=i.y+i.height,s=this.guidelineSnapDistance,l=this.searchDistance,c=i.copy();c.inflate(l,s+1);var d=this.diagram.findObjectsIn(c,(function(e){return e.part}),(function(e){return e instanceof u.Part&&!e.isSelected&&!(e instanceof u.Link)&&e.isTopLevel&&null!==e.layer&&!e.layer.isTemporary}),!0),h=s,p=null,g=u.Spot.Default,m=u.Spot.Default;if(d.each((function(t){if(t!==e){var n=t.locationObject.getDocumentBounds(),i=n.y,s=n.y+n.height/2,l=n.y+n.height;Math.abs(r-s)<h&&(h=Math.abs(r-s),p=t,g=u.Spot.Center,m=u.Spot.Center),Math.abs(a-i)<h?(h=Math.abs(a-i),p=t,g=u.Spot.Top,m=u.Spot.Top):Math.abs(a-l)<h&&(h=Math.abs(a-l),p=t,g=u.Spot.Top,m=u.Spot.Bottom),Math.abs(o-i)<h?(h=Math.abs(o-i),p=t,g=u.Spot.Bottom,m=u.Spot.Top):Math.abs(o-l)<h&&(h=Math.abs(o-l),p=t,g=u.Spot.Bottom,m=u.Spot.Bottom)}})),null!==p){var f=i.x-e.actualBounds.x,y=i.y-e.actualBounds.y,j=p.locationObject.getDocumentBounds(),b=Math.min(i.x,j.x)-10,v=Math.max(i.x+i.width,j.x+j.width)+10,k=(new u.Point).setRectSpot(j,m);g===u.Spot.Center?(n&&(e.move(new u.Point(i.x-f,k.y-i.height/2-y)),this.invalidateLinks(e)),t&&(this.guidelineHcenter.position=new u.Point(b,k.y),this.guidelineHcenter.elt(0).width=v-b,this.diagram.add(this.guidelineHcenter))):g===u.Spot.Top?(n&&(e.move(new u.Point(i.x-f,k.y-y)),this.invalidateLinks(e)),t&&(this.guidelineHtop.position=new u.Point(b,k.y),this.guidelineHtop.elt(0).width=v-b,this.diagram.add(this.guidelineHtop))):g===u.Spot.Bottom&&(n&&(e.move(new u.Point(i.x-f,k.y-i.height-y)),this.invalidateLinks(e)),t&&(this.guidelineHbottom.position=new u.Point(b,k.y),this.guidelineHbottom.elt(0).width=v-b,this.diagram.add(this.guidelineHbottom)))}}},{key:"showVerticalMatches",value:function(e,t,n){var i=e.locationObject.getDocumentBounds(),a=i.x,r=i.x+i.width/2,o=i.x+i.width,s=this.guidelineSnapDistance,l=this.searchDistance,c=i.copy();c.inflate(s+1,l);var d=this.diagram.findObjectsIn(c,(function(e){return e.part}),(function(e){return e instanceof u.Part&&!e.isSelected&&!(e instanceof u.Link)&&e.isTopLevel&&null!==e.layer&&!e.layer.isTemporary}),!0),h=s,p=null,g=u.Spot.Default,m=u.Spot.Default;if(d.each((function(t){if(t!==e){var n=t.locationObject.getDocumentBounds(),i=n.x,s=n.x+n.width/2,l=n.x+n.width;Math.abs(r-s)<h&&(h=Math.abs(r-s),p=t,g=u.Spot.Center,m=u.Spot.Center),Math.abs(a-i)<h?(h=Math.abs(a-i),p=t,g=u.Spot.Left,m=u.Spot.Left):Math.abs(a-l)<h&&(h=Math.abs(a-l),p=t,g=u.Spot.Left,m=u.Spot.Right),Math.abs(o-i)<h?(h=Math.abs(o-i),p=t,g=u.Spot.Right,m=u.Spot.Left):Math.abs(o-l)<h&&(h=Math.abs(o-l),p=t,g=u.Spot.Right,m=u.Spot.Right)}})),null!==p){var f=i.x-e.actualBounds.x,y=i.y-e.actualBounds.y,j=p.locationObject.getDocumentBounds(),b=Math.min(i.y,j.y)-10,v=Math.max(i.y+i.height,j.y+j.height)+10,k=(new u.Point).setRectSpot(j,m);g===u.Spot.Center?(n&&(e.move(new u.Point(k.x-i.width/2-f,i.y-y)),this.invalidateLinks(e)),t&&(this.guidelineVcenter.position=new u.Point(k.x,b),this.guidelineVcenter.elt(0).height=v-b,this.diagram.add(this.guidelineVcenter))):g===u.Spot.Left?(n&&(e.move(new u.Point(k.x-f,i.y-y)),this.invalidateLinks(e)),t&&(this.guidelineVleft.position=new u.Point(k.x,b),this.guidelineVleft.elt(0).height=v-b,this.diagram.add(this.guidelineVleft))):g===u.Spot.Right&&(n&&(e.move(new u.Point(k.x-i.width-f,i.y-y)),this.invalidateLinks(e)),t&&(this.guidelineVright.position=new u.Point(k.x,b),this.guidelineVright.elt(0).height=v-b,this.diagram.add(this.guidelineVright)))}}}]),n}(u.DraggingTool),k=(n(65),n(1)),O=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).diagramRef=void 0,a.diagramRef=i.createRef(),a}return Object(g.a)(n,[{key:"componentDidMount",value:function(){if(this.diagramRef.current){var e=this.diagramRef.current.getDiagram();e instanceof u.Diagram&&e.addDiagramListener("ChangedSelection",this.props.onDiagramEvent)}}},{key:"componentWillUnmount",value:function(){if(this.diagramRef.current){var e=this.diagramRef.current.getDiagram();e instanceof u.Diagram&&e.removeDiagramListener("ChangedSelection",this.props.onDiagramEvent)}}},{key:"initDiagram",value:function(){var e=u.GraphObject.make,t=e(u.Diagram,{"undoManager.isEnabled":!0,"clickCreatingTool.archetypeNodeData":{text:"new node",color:"lightblue"},draggingTool:new v,"draggingTool.horizontalGuidelineColor":"blue","draggingTool.verticalGuidelineColor":"blue","draggingTool.centerGuidelineColor":"green","draggingTool.guidelineWidth":1,layout:e(u.ForceDirectedLayout,{isInitial:!1,setsPortSpots:!1}),model:e(u.GraphLinksModel,{linkKeyProperty:"key",makeUniqueKeyFunction:function(e,t){for(var n=t.key||1;e.findNodeDataForKey(n);)n++;return t.key=n,n},makeUniqueLinkKeyFunction:function(e,t){for(var n=t.key||-1;e.findLinkDataForKey(n);)n--;return t.key=n,n}})});function n(e){switch(e){case"H":return u.Panel.Horizontal;case"V":return u.Panel.Vertical;default:return u.Panel.Auto}}return t.nodeTemplate=e(u.Node,"Auto",new u.Binding("type","type",n),{background:"transparent"},new u.Binding("background","background"),new u.Binding("location","loc",u.Point.parse).makeTwoWay(u.Point.stringify),e(u.Shape,{fill:"white",strokeWidth:1,portId:"",strokeJoin:"round"},new u.Binding("fill","color"),new u.Binding("figure","fig"),new u.Binding("width","width"),new u.Binding("height","height")),e(u.TextBlock,{margin:8,editable:!0,font:"400 .875rem Roboto, sans-serif"},new u.Binding("text").makeTwoWay(),new u.Binding("stroke","stroke"),new u.Binding("margin"))),t.groupTemplate=e(u.Group,"Vertical",new u.Binding("location","loc",u.Point.parse).makeTwoWay(u.Point.stringify),e(u.Panel,"Auto",new u.Binding("type","type",n),{background:"transparent"},new u.Binding("background","background"),e(u.Shape,{fill:"white",strokeWidth:1,portId:"",strokeJoin:"round"},new u.Binding("fill","color"),new u.Binding("figure","fig"),new u.Binding("width","width"),new u.Binding("height","height")),e(u.TextBlock,{margin:8,editable:!0,font:"400 .875rem Roboto, sans-serif"},new u.Binding("text").makeTwoWay(),new u.Binding("stroke","stroke"),new u.Binding("margin")))),t.linkTemplate=e(u.Link,{selectionAdorned:!0,layerName:"Foreground",reshapable:!0,routing:u.Link.Orthogonal,corner:10,angle:360,curve:u.Link.JumpOver,segmentOrientation:u.Link.None},new u.Binding("fromSpot","fromSpot",u.Spot.parse),new u.Binding("toSpot","toSpot",u.Spot.parse),new u.Binding("routing","routing",(function(e){return"A"===e?u.Link.AvoidsNodes:u.Link.Normal})),e(u.Shape,new u.Binding("strokeDashArray","dash")),e(u.Shape,{stroke:"#303B45",strokeWidth:2.5,toArrow:""},new u.Binding("toArrow","arrow")),e(u.TextBlock,{textAlign:"center",font:"bold 14px sans-serif",stroke:"#1967B3",segmentIndex:0,segmentOffset:new u.Point(NaN,NaN),segmentOrientation:u.Link.None,angle:360},new u.Binding("alignmentFocus","align"),new u.Binding("text","text")),e(u.TextBlock,{textAlign:"center",font:"bold 14px sans-serif",stroke:"#1967B3",segmentIndex:-1,segmentOffset:new u.Point(NaN,NaN),segmentOrientation:u.Link.OrientUpright},new u.Binding("text","toText"))),t}},{key:"render",value:function(){return Object(k.jsx)(y.a,{ref:this.diagramRef,divClassName:"diagram-component",initDiagram:this.initDiagram,nodeDataArray:this.props.nodeDataArray,linkDataArray:this.props.linkDataArray,modelData:this.props.modelData,onModelChange:this.props.onModelChange,skipsDiagramUpdate:this.props.skipsDiagramUpdate})}}]),n}(i.Component),E=n(32),N=(n(42),function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var i;return Object(p.a)(this,n),(i=t.call(this,e)).handleInputChange=i.handleInputChange.bind(Object(E.a)(i)),i}return Object(g.a)(n,[{key:"handleInputChange",value:function(e){this.props.onInputChange(this.props.id,e.target.value,"blur"===e.type)}},{key:"formatLocation",value:function(e){var t=e.split(" ");if(2===t.length){var n=parseFloat(t[0]),i=parseFloat(t[1]);if(!isNaN(n)&&!isNaN(i))return"".concat(n.toFixed(0)," ").concat(i.toFixed(0))}return e}},{key:"render",value:function(){var e,t=this.props.value;return"loc"===(null===(e=this.props)||void 0===e?void 0:e.id)&&this.props.value&&(t=this.formatLocation(this.props.value)),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:this.props.id}),Object(k.jsx)("td",{children:Object(k.jsx)("input",{disabled:"key"===this.props.id,value:t,onChange:this.handleInputChange,onBlur:this.handleInputChange})})]})}}]),n}(i.PureComponent)),x=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"renderObjectDetails",value:function(){var e=this.props.selectedData,t=[];for(var n in e){var i=e[n],a=Object(k.jsx)(N,{id:n,value:i,onInputChange:this.props.onInputChange},n);"key"===n?t.unshift(a):t.push(a)}return t}},{key:"render",value:function(){return Object(k.jsx)("div",{id:"myInspectorDiv",className:"inspector",children:Object(k.jsx)("table",{children:Object(k.jsx)("tbody",{children:this.renderObjectDetails()})})})}}]),n}(i.PureComponent),D=n(3),S=Object(D.createToken)({name:"True",pattern:/true/}),C=Object(D.createToken)({name:"False",pattern:/false/}),w=Object(D.createToken)({name:"LCurly",pattern:/{/}),A=Object(D.createToken)({name:"RCurly",pattern:/}/}),T=Object(D.createToken)({name:"LSquare",pattern:/\[/}),L=Object(D.createToken)({name:"RSquare",pattern:/]/}),R=Object(D.createToken)({name:"LRound",pattern:/\(/}),I=Object(D.createToken)({name:"RRound",pattern:/\)/}),U=Object(D.createToken)({name:"Comma",pattern:/,/}),M=Object(D.createToken)({name:"Colon",pattern:/:/}),P=Object(D.createToken)({name:"SemiColon",pattern:/;/}),G=Object(D.createToken)({name:"ENTITY",pattern:/ENTITY/}),B=Object(D.createToken)({name:"COVERAGE",pattern:/COVERAGE/}),F=Object(D.createToken)({name:"CHILD",pattern:/CHILD/}),_=Object(D.createToken)({name:"COMPOSITE",pattern:/COMPOSITE/}),H=Object(D.createToken)({name:"WEAK",pattern:/WEAK/}),V=Object(D.createToken)({name:"RELATIONSHIP",pattern:/RELATIONSHIP/}),K=Object(D.createToken)({name:"CALCULATED",pattern:/CALCULATED/}),W=Object(D.createToken)({name:"ATTRIBUTES",pattern:/ATTRIBUTES/}),z=Object(D.createToken)({name:"IDENTIFIER",pattern:/IDENTIFIER/}),Y=Object(D.createToken)({name:"BY",pattern:/BY/}),q=Object(D.createToken)({name:"StringEntity",pattern:/[a-zA-Z]\w*/}),J=Object(D.createToken)({name:"sqlExpretion",pattern:/'.*?'/}),Q=Object(D.createToken)({name:"RelationNumber",pattern:/0|1|\bn\b|\bN\b/}),X=Object(D.createToken)({name:"JERARQUIA",pattern:/\bTOTAL\b|\bPARTIAL\b/}),Z=Object(D.createToken)({name:"OF",pattern:/OF/}),$=Object(D.createToken)({name:"COVERTURA",pattern:/\bEXCLUSIVE\b|\bOVERLAPPING\b/}),ee=Object(D.createToken)({name:"WhiteSpace",pattern:/[ \t\n\r]+/,group:D.Lexer.SKIPPED}),te=[w,A,T,L,U,M,S,C,R,I,P,G,B,F,H,Y,z,_,V,K,W,X,Z,$,J,ee,Q,q],ne=new D.Lexer(te),ie=new(function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this,te)).TypeOfObject=e.RULE("TypeOfObject",(function(){e.MANY_SEP({SEP:P,DEF:function(){e.OR([{ALT:function(){return e.SUBRULE(e.entity)}},{ALT:function(){return e.SUBRULE(e.composite)}},{ALT:function(){return e.SUBRULE(e.relationship)}}])}})})),e.entity=e.RULE("Entity",(function(){e.CONSUME(G),e.CONSUME(q),e.OPTION((function(){return e.OR([{ALT:function(){return e.SUBRULE(e.child)}},{ALT:function(){return e.SUBRULE(e.coverage)}},{ALT:function(){return e.SUBRULE(e.weak)}}])})),e.CONSUME(w),e.MANY_SEP({SEP:U,DEF:function(){e.SUBRULE(e.propertyEntity)}}),e.CONSUME(A)})),e.propertyEntity=e.RULE("PropertyEntity",(function(){e.CONSUME(q),e.OPTION((function(){return e.OR([{ALT:function(){return e.CONSUME(z)}},{ALT:function(){return e.SUBRULE(e.manys)}},{ALT:function(){return e.SUBRULE(e.calculated)}}])}))})),e.relationship=e.RULE("Relationship",(function(){e.CONSUME(V),e.CONSUME(q),e.CONSUME(w),e.MANY_SEP({SEP:U,DEF:function(){e.SUBRULE(e.relation)}}),e.OPTION({DEF:function(){e.SUBRULE(e.attributesRelation)}}),e.CONSUME(A)})),e.relation=e.RULE("Relation",(function(){e.CONSUME(q),e.CONSUME(R),e.CONSUME1(Q),e.CONSUME(U),e.CONSUME2(Q),e.CONSUME(I)})),e.attributesRelation=e.RULE("AttributesRelation",(function(){e.CONSUME(W),e.CONSUME(w),e.MANY_SEP({SEP:U,DEF:function(){e.SUBRULE(e.propertyEntity)}}),e.CONSUME(A)})),e.manys=e.RULE("Manys",(function(){e.CONSUME(R),e.CONSUME1(Q),e.CONSUME(U),e.CONSUME2(Q),e.CONSUME(I)})),e.child=e.RULE("Child",(function(){e.CONSUME(F),e.CONSUME(Z),e.CONSUME(q)})),e.weak=e.RULE("Weak",(function(){e.CONSUME(H),e.CONSUME(Z),e.CONSUME(q)})),e.coverage=e.RULE("Coverage",(function(){e.CONSUME(B),e.CONSUME(R),e.CONSUME(X),e.CONSUME(U),e.CONSUME($),e.CONSUME(I)})),e.composite=e.RULE("Composite",(function(){e.CONSUME(_),e.CONSUME(q),e.CONSUME(w),e.AT_LEAST_ONE_SEP({SEP:U,DEF:function(){return e.SUBRULE(e.propierties)}}),e.CONSUME(A)})),e.calculated=e.RULE("Calculated",(function(){e.CONSUME(K),e.CONSUME(Y),e.CONSUME(J)})),e.propierties=e.RULE("Propierties",(function(){e.CONSUME(q)})),e.performSelfAnalysis(),e}return n}(D.CstParser));var ae=n(39),re=n.n(ae),oe=(n(87),n(7)),se=n.n(oe),le=function(){function e(){var t=this;Object(p.a)(this,e),this.Keys=0,this.KeysLink=0,this.location={H:0,W:0},this.stateData=void 0,this.totalLocation=0,this.arrayOfComposites=[],this.FinalDataNodes=this.initialData(),this.ArrayOfNodes={Entities:[],links:[]},this.GetLocation=function(){},this.TotalLocation=function(e){t.totalLocation=200*e},this.GetKey=function(){return t.Keys=t.Keys+1},this.GetKeyForLink=function(){return t.KeysLink=t.KeysLink+-1},this.createNodeGo=function(e){return{key:e.key,text:e.text,color:e.color,type:e.type||"A",margin:e.margin||8,loc:e.loc,stroke:e.stroke,isGroup:e.isGroup||void 0,fig:e.fig||"RoundedRectangle",height:e.height,width:e.width}},this.handleChild=function(e){},this.handleCoverage=function(e){},this.handleWeak=function(e){e.color="transparent"},this.searchEntityNodeInArrayOfNodes=function(e){var n=t.ArrayOfNodes.Entities.find((function(t){return t.nombre==e}));return null===n||void 0===n?void 0:n.key},this.searchParentNodeInArrayOfNodes=function(e){var n=t.searchEntityNodeInArrayOfNodes(e),i=t.ArrayOfNodes.Entities.find((function(e){return e.parent==n}));return null===i||void 0===i?void 0:i.key},this.entityAction=function(e){var n=null;if(e.children){var i;if(n={key:t.GetKey(),text:e.children.StringEntity[0].image,color:"pink",isGroup:!0},e.children.Weak&&t.handleWeak(n),t.FinalDataNodes.nodeDataArray.push(t.createNodeGo(n)),t.ArrayOfNodes.Entities.push({key:n.key,nombre:n.text,weak:e.children.Weak?e.children.Weak[0].children.StringEntity[0].image:void 0,parent:null,atributes:[]}),null!==n)t.handleProperties(null===e||void 0===e||null===(i=e.children)||void 0===i?void 0:i.PropertyEntity,n.key);if(e.children.Coverage){var a=t.createTriangle(n.key,"(".concat(e.children.Coverage[0].children.JERARQUIA[0].image.substring(0,1),", ").concat(e.children.Coverage[0].children.COVERTURA[0].image.substring(0,1),")")),r={Key:t.GetKeyForLink(),to:n.key,from:a.key,fromSpot:"Top",toSpot:"Bottom"};t.FinalDataNodes.linkDataArray.push(t.createPropertiesGo(r))}if(e.children.Child){var o={Key:t.GetKeyForLink(),to:t.searchParentNodeInArrayOfNodes(e.children.Child[0].children.StringEntity[0].image),from:n.key,fromSpot:"Top",toSpot:"Bottom"};t.FinalDataNodes.linkDataArray.push(t.createPropertiesGo(o))}else e.children.Coverage}},this.RelationshipAction=function(e){var n=null;e.children&&(n={key:t.GetKey(),text:e.children.StringEntity[0].image,color:"lightblue",margin:2,fig:"Diamond"},e.children&&null!==n&&e.children.Relation.map((function(i){var a=t.ArrayOfNodes.Entities.find((function(e){return e.nombre==i.children.StringEntity[0].image}));(null===a||void 0===a?void 0:a.weak)&&e.children.Relation.some((function(e){return e.children.StringEntity[0].image===a.weak}))&&(n.color="transparent")})),t.FinalDataNodes.nodeDataArray.push(t.createNodeGo(n)),e.children.AttributesRelation&&t.handleProperties(e.children.AttributesRelation[0].children.PropertyEntity,n.key)),e.children&&null!==n&&t.handleRelations(e.children.Relation,n.key)},this.compositeAction=function(e){var n=e.children.Propierties.map((function(e){return e.children.StringEntity[0].image}));if(n){var i={nombre:e.children.StringEntity[0].image,atributes:n};t.arrayOfComposites.push(i)}},this.addNodeData=function(){}}return Object(g.a)(e,[{key:"getAnCompositeOnArray",value:function(e){return this.arrayOfComposites.find((function(t){return t.nombre===e}))}},{key:"initialData",value:function(){return this.FinalDataNodes={nodeDataArray:[],linkDataArray:[],modelData:{canRelink:!0},selectedData:!0,skipsDiagramUpdate:!1}}},{key:"createPropertiesGo",value:function(e){return{Key:e.Key,align:e.align||void 0,from:e.from,routing:e.routing||void 0,fromSpot:e.fromSpot||void 0,text:e.text||void 0,dash:e.dash||void 0,to:e.to,toSpot:e.toSpot||void 0}}},{key:"handlePropertiesOfComposite",value:function(e,t){var n={key:this.GetKey(),text:e,margin:15,type:"H",color:"transparent",fig:"Ellipse",height:15,group:t,width:15};this.FinalDataNodes.nodeDataArray.push(n),this.FinalDataNodes.linkDataArray.push(this.createPropertiesGo({Key:this.GetKeyForLink(),to:n.key,from:t,routing:"N"}))}},{key:"moreThanOneIdentifier",value:function(e,t){var n,i,a,r,o,s=null===(n=this.ArrayOfNodes)||void 0===n||null===(i=n.Entities)||void 0===i?void 0:i.find((function(t){return t.key==e})),l=null===s||void 0===s||null===(a=s.atributes)||void 0===a?void 0:a.find((function(e){return!0===e.identity}));l&&l.key!==t&&(null===(r=this.FinalDataNodes)||void 0===r||null===(o=r.linkDataArray)||void 0===o||o.push(this.createPropertiesGo({Key:this.GetKeyForLink(),to:t,from:l.key,routing:"N",text:void 0})))}},{key:"handleProperties",value:function(e,t){var n=this;console.log(e),e&&e.map((function(e){var i={key:n.GetKey(),text:e.children.StringEntity[0].image,margin:15,type:"H",color:e.children.IDENTIFIER?"black":"transparent",fig:"Ellipse",height:15,group:t,width:15},a=n.getAnCompositeOnArray(i.text);void 0!==a&&(i.margin=void 0,i.type=void 0,i.isGroup=!0,i.height=void 0,i.width=void 0),n.FinalDataNodes.nodeDataArray.push(i),a&&a.atributes.map((function(e){n.handlePropertiesOfComposite(e,i.key)}));var r=n.ArrayOfNodes.Entities.find((function(e){return e.key==t}));r&&r.atributes.push({key:i.key,nombre:i.text,identity:!!e.children.IDENTIFIER}),n.FinalDataNodes.linkDataArray.push(n.createPropertiesGo({Key:n.GetKeyForLink(),to:i.key,from:t,routing:"N",dash:e.children.Calculated?[5,5]:void 0,text:n.handleCardinality(e.children)}))}))}},{key:"handleCardinality",value:function(e){if(e.Manys)return"(".concat(e.Manys[0].children.RelationNumber[0].image," , ").concat(e.Manys[0].children.RelationNumber[1].image,")")}},{key:"handleRelations",value:function(e,t){var n=this;null===e||void 0===e||e.map((function(e){var i={Key:n.GetKeyForLink(),to:t,from:n.searchEntityNodeInArrayOfNodes(e.children.StringEntity[0].image),routing:"N",text:"(".concat(e.children.RelationNumber[0].image," , ").concat(e.children.RelationNumber[1].image,")")};n.FinalDataNodes.linkDataArray.push(n.createPropertiesGo(i)),n.ArrayOfNodes.links.push({key:i.Key,to:t,from:n.searchEntityNodeInArrayOfNodes(e.children.StringEntity[0].image)})}))}},{key:"createTriangle",value:function(e,t){var n={key:this.GetKey(),text:t,color:"lawngreen",isGroup:!0,height:void 0,width:void 0,type:"A",margin:5,fig:"TriangleUp"};return this.FinalDataNodes.nodeDataArray.push(this.createNodeGo(n)),this.ArrayOfNodes.Entities.push({key:n.key,nombre:n.text,parent:e,atributes:[]}),n}},{key:"nodeIsExistinInDataNode",value:function(){var e,t,n,i,a=this;this.stateData&&((null===(e=this.stateData)||void 0===e||null===(t=e.nodeDataArray)||void 0===t?void 0:t.length)==(null===(n=this.FinalDataNodes)||void 0===n||null===(i=n.nodeDataArray)||void 0===i?void 0:i.length)?(this.FinalDataNodes.nodeDataArray.map((function(e){var t=a.stateData.nodeDataArray.find((function(t){return e.text==t.text}));t&&(e.loc=t.loc,se.a.remove(a.stateData.nodeDataArray,(function(e){return e.key===t.key})))})),this.FinalDataNodes.nodeDataArray.map((function(e){if(void 0===e.loc){var t,n=a.stateData.nodeDataArray.splice(0,1);e.loc=null===n||void 0===n||null===(t=n[0])||void 0===t?void 0:t.loc}}))):this.stateData.nodeDataArray.length>this.FinalDataNodes.nodeDataArray.length?this.FinalDataNodes.nodeDataArray.map((function(e){var t=a.stateData.nodeDataArray.find((function(t){return e.text==t.text}));t&&(e.loc=t.loc,se.a.remove(a.stateData.nodeDataArray,(function(e){return e.key===t.key})))})):this.stateData.nodeDataArray.length<this.FinalDataNodes.nodeDataArray.length&&this.FinalDataNodes.nodeDataArray.map((function(e){var t=a.stateData.nodeDataArray.find((function(t){return e.text==t.text}));t&&(e.loc=t.loc,se.a.remove(a.stateData.nodeDataArray,(function(e){return e.key===t.key})))})))}},{key:"ActionsFunctions",value:function(e,t){var n=this;if(console.log("\ud83d\ude80 ~ file: myFunctions.ts ~ line 418 ~ ActionsFunctionsClass ~ ActionsFunctions ~ stateData",t),this.FinalDataNodes=this.initialData(),this.stateData=JSON.parse(JSON.stringify(t)),this.Keys=0,this.KeysLink=0,this.totalLocation=0,this.arrayOfComposites=[],this.ArrayOfNodes={Entities:[],links:[]},e){var i=e,a=i.Entity,r=i.Relationship||[],o=i.Composite||[];null===o||void 0===o||o.map((function(e){n.compositeAction(e)})),null===a||void 0===a||a.map((function(e){n.entityAction(e)})),null===r||void 0===r||r.map((function(e){n.RelationshipAction(e)}))}return this.nodeIsExistinInDataNode(),this.FinalDataNodes}}]),e}(),ce=n(54);n(91),n(92),n(52),n(93),n(95);function de(e,t,n,i){!function(e,t,n,i,a){try{var r,o,s,l=i;se.a.forEach(l,(function(e){e.clear()})),l=[],se.a.forEach(e,(function(e){r={line:e.line-1,ch:e.column-1},o={line:e.line-1,ch:e.column-1+e.length},s=n.markText(r,o,{className:"markTextError",title:e.message}),l.push(s)})),se.a.forEach(t,(function(e){if(!isNaN(e.token.startLine)&&!isNaN(e.token.startOffset)&&!isNaN(e.token.endOffset)&&!isNaN(e.token.endLine)){r={line:e.token.startLine-1,ch:e.token.startColumn-1};var t=e.token;se.a.isEmpty(e.resyncedTokens)||(t=se.a.max(e.resyncedTokens).startOffset),o={line:t.endLine?t.endLine-1:t.startLine-1,ch:t.endColumn?t.endColumn:t.startColumn+t.image.length},s=n.markText(r,o,{className:"markTextError",title:null===e||void 0===e?void 0:e.message}),l.push(s)}})),a(l)}catch(c){console.log(c)}}(i.lexErrors,i.parseErrors,e,t,n)}var ue=function(e){var t=e.changeStateCallback,n=e.stateData,r=e.textoState,o=e.setTextoState,s=Object(i.useMemo)((function(){return new le}),[]),l=Object(i.useState)([]),c=Object(d.a)(l,2),u=c[0],h=c[1],p=function(e,t){var i,a;try{console.log("\ud83d\ude80 ~ file: ParserGenerator.tsx ~ line 60 ~ useEffect ~ stateData",n),console.log("\ud83d\ude80 ~ file: ParserGenerator.tsx ~ line 27 ~ handleSubmit ~ \xf1exAndParseResult.lexErrors.length",e.lexErrors.length),re.a.strictEqual(e.lexErrors.length,0),console.log("\ud83d\ude80 ~ file: ParserGenerator.tsx ~ line 29 ~ handleSubmit ~ lexAndParseResult.parseErrors",e.parseErrors),re.a.strictEqual(e.parseErrors.length,0),console.log("\ud83d\ude80 ~ file: ParserGenerator.tsx ~ line 32 ~ handleSubmit ~ lexAndParseResult",e)}catch(o){console.log(o)}if(e.cst&&0===(null===e||void 0===e||null===(i=e.parseErrors)||void 0===i?void 0:i.length)&&0===(null===e||void 0===e||null===(a=e.lexErrors)||void 0===a?void 0:a.length)){var r=function(e,t,n,i){var a=t;se.a.forEach(a,(function(e){e.clear()})),a=[];var r=i;console.log(r);var o=r.Entity,s=r.Relationship||[],l=r.Composite||[],c=new Map,d=new Map,u=0;return null===l||void 0===l||l.map((function(e){c.has(e.children.StringEntity[0].image)?d.set(e.children.StringEntity[0].image,e):c.set(e.children.StringEntity[0].image,e)})),null===o||void 0===o||o.map((function(e){c.has(e.children.StringEntity[0].image)?d.set(e.children.StringEntity[0].image,e):c.set(e.children.StringEntity[0].image,e)})),null===s||void 0===s||s.map((function(e){c.has(e.children.StringEntity[0].image)?d.set(e.children.StringEntity[0].image,e):c.set(e.children.StringEntity[0].image,e)})),null===d||void 0===d||d.forEach((function(t){u+=1;var n={line:t.children.StringEntity[0].startLine-1,ch:t.children.StringEntity[0].startColumn-1},i={line:t.children.StringEntity[0].endLine-1,ch:t.children.StringEntity[0].endColumn},r=e.markText(n,i,{className:"markTextError",title:"Elemento repetido"});a.push(r)})),n(a),u}(t,u,h,e.cst.children);return console.log(r),0===r?e.cst.children:null}return null};Object(i.useEffect)((function(){console.log(u)}),[u]);var g=a.a.useCallback((function(e,i){o(e.getValue());var a=function(e){var t=ne.tokenize(e);return ie.input=t.tokens,{cst:ie.TypeOfObject(),lexErrors:t.errors,parseErrors:ie.errors}}(e.getValue());de(e,u,h,a);var r=p(a,e);r&&function(e,n,i){var a=s.ActionsFunctions(e,n);a&&t(a,i)}(r,n,e.getValue())}),[n,u,p]),m=Object(i.useMemo)((function(){return se.a.debounce(g,2e3)}),[g]);return Object(k.jsx)("div",{className:"w-full h-full parse-generator",children:Object(k.jsx)(ce.a,{value:r,onChange:m,options:{mode:"text",lineNumbers:!0,theme:"dracula",tabSize:1}})})},he=n(224),pe=n(56),ge=n(16),me=n(15),fe=function(){var e=Object(i.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],r=function(){return Object(k.jsx)("div",{children:Object(k.jsxs)("button",{onClick:function(){a("")},className:"border-gray-200 rounded-md border-2 p-1",children:[Object(k.jsx)(me.a,{icon:ge.a})," VOLVER"]})})};return Object(k.jsxs)("div",{className:"w-full",children:[!n&&["Entidades","Atributos","Interrelaciones","Herencia"].map((function(e){return Object(k.jsx)("div",{className:"text-2xl text-gray-200 py-2 px-4 cursor-pointer",onClick:function(){a(e)},children:Object(k.jsx)("div",{children:e})},e)})),!!n&&Object(k.jsx)("div",{className:"text-gray-200 p-2",children:function(e){switch(e){case"Entidades":return Object(k.jsxs)("div",{children:[Object(k.jsx)(r,{}),Object(k.jsx)("div",{className:"text-2xl text-center py-2",children:"Entidades"}),Object(k.jsx)("div",{className:"py-2",children:"Las entidades representan clases de objetos de la realidad"}),Object(k.jsx)("div",{className:"py-2",children:"El sigiente es un ejemplo de la entidad Producto con "}),Object(k.jsx)("div",{className:"py-2 whitespace-pre-line",children:"ENTITY producto{\n\t\t\t\t\t\t\tcodigo IDENTIFIER,\n\t\t\t\t\t\t\tdescripcion\n\t\t\t\t\t\t\t}"})]});case"Interrelaciones":return Object(k.jsxs)("div",{children:[Object(k.jsx)(r,{}),Object(k.jsx)("div",{className:"text-2xl text-center py-2",children:"Interrelaciones"}),Object(k.jsx)("div",{className:"py-2",children:"Las interrelaciones representan agregaciones de dos o m\xe1s entidades"}),Object(k.jsx)("div",{className:"py-2",children:"El sigiente es un ejemplo de una relacion entre producto y linea "}),Object(k.jsx)("div",{className:"py-2 whitespace-pre-line",children:"ENTITY producto{\n\t\t\t\t\t\t\tcodigo IDENTIFIER,\n\t\t\t\t\t\t\tdescripcion\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tRELATIONSHIP tiene{\n\t\t\t\t\t\t\t\tlinea (1, 1),\n\t\t\t\t\t\t\t\tproducto (1, N)\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tENTITY linea{\n\t\t\t\t\t\t\t\tnumero IDENTIFIER,\n\t\t\t\t\t\t\t\tprecio,\n\t\t\t\t\t\t\t\tcantidad,\n\t\t\t\t\t\t\t\tsubtotal CALCULATED BY 'precio * cantidad'\n\t\t\t\t\t\t\t};\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t"})]});case"Atributos":return Object(k.jsxs)("div",{children:[Object(k.jsx)(r,{}),Object(k.jsx)("div",{className:"text-2xl text-center py-2",children:"Atributos"}),Object(k.jsx)("div",{className:"py-2",children:"representan las propiedades b\xe1sicas de las entidades o interrelaciones"}),Object(k.jsx)("div",{className:"py-2",children:"El sigiente es un ejemplo de persona con atributos simples calculados y compuestos"}),Object(k.jsx)("div",{className:"py-2 whitespace-pre-line",children:"\n\t\t\t\t\t\t\tCOMPOSITE domicilio{\n\t\t\t\t\t\t\t\tciudad,\n\t\t\t\t\t\t\t\tcalle,\n\t\t\t\t\t\t\t\tnumero\n\t\t\t\t\t\t\t};\n                            ENTITY persona{\n                                documento IDENTIFIER,\n                                cuil IDENTIFIER,\n                                nacimiento,\n                                edad CALCULATED BY 'HOY - nacimiento',\n                                nombre,\n                                celular (0,1),\n                                domicilio\n                            };\n                            "})]});case"Herencia":return Object(k.jsxs)("div",{children:[Object(k.jsx)(r,{}),Object(k.jsx)("div",{className:"text-2xl text-center py-2",children:"Herencia"}),Object(k.jsx)("div",{className:"py-2",children:'Una abstracci\xf3n de generalizaci\xf3n establece una correspondencia entre la clase gen\xe9rica "(ra\xedz)" y las clases subconjunto.'}),Object(k.jsx)("div",{className:"py-2",children:"El sigiente es un ejemplo de herencia para la clase persona."}),Object(k.jsx)("div",{className:"py-2 whitespace-pre-line",children:"\n                            ENTITY persona COVERAGE (PARTIAL, OVERLAPPING){\n                                documento IDENTIFIER,\n                                cuil IDENTIFIER,\n                                nacimiento,\n                                edad CALCULATED BY 'HOY - nacimiento',\n                                nombre,\n                                celular (0,1),\n                                domicilio\n                            };\n                            \n                            ENTITY proveedor CHILD OF persona{\n                                cuit IDENTIFIER \n                            };\n                            ENTITY proveedorer CHILD OF persona{\n                                cuit IDENTIFIER \n                            };\n                            "})]})}}(n)})]})},ye=function(e){var t=new Map,n=new Map,a={nodeDataArray:[],linkDataArray:[],modelData:{canRelink:!0},selectedData:null,skipsDiagramUpdate:!1},r=Object(i.useState)(a),o=Object(d.a)(r,2),s=o[0],p=o[1],g=Object(i.useState)(""),m=Object(d.a)(g,2),f=m[0],y=m[1],j=Object(i.useState)(!0),b=Object(d.a)(j,2),v=b[0],E=b[1],N=Object(i.useState)(!1),D=Object(d.a)(N,2),S=D[0],C=D[1],w=function(e){t.clear(),null===e||void 0===e||e.forEach((function(e,n){t.set(e.key,n)}))},A=function(e){n.clear(),null===e||void 0===e||e.forEach((function(e,t){n.set(e.key,t)}))};w(s.nodeDataArray),A(s.linkDataArray);var T,L=i.useCallback(function(){var e=Object(c.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(a),setTimeout((function(){w(t.nodeDataArray),A(t.linkDataArray),p(t),y(n)}),10);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),R=s.selectedData;i.useEffect((function(){console.log(s)}),[R]),null!==R&&(T=Object(k.jsx)(x,{selectedData:s.selectedData,onInputChange:function(e,i,a){p(Object(h.a)((function(r){var o=r.selectedData;if(o[e]=i,a){var s=o.key;if(s<0){var l=n.get(s);void 0!==l&&l>=0&&(r.linkDataArray[l]=o,r.skipsDiagramUpdate=!1)}else{var c=t.get(s);void 0!==c&&c>=0&&(r.nodeDataArray[c]=o,r.skipsDiagramUpdate=!1)}}})))}}));var I=i.useRef(null);return Object(k.jsxs)("div",{className:"w-screen h-screen",children:[Object(k.jsxs)("nav",{className:"bg-gray-800 z-50 w-full flex p-2 gap-6 md:gap-8",children:[Object(k.jsx)("div",{className:"text-gray-200 text-2xl",children:" BDD "}),Object(k.jsx)("button",{className:"text-white text-icon-code",onClick:function(){E((function(e){return!e}))},children:Object(k.jsx)(me.a,{icon:ge.b})}),Object(k.jsxs)("button",{className:"bg-red-500 shadow-md hover:bg-red-700  text-white text-icon-rest rounded-full",children:[Object(k.jsx)(me.a,{icon:ge.c}),Object(k.jsx)("span",{className:"hidden sm:block",children:"Nuevo"})]}),Object(k.jsx)("input",{type:"file",name:"Importar",onChange:function(e){try{var t=e.target.files[0],n=new FileReader;n.readAsText(t),n.onload=function(){var e=n.result.split("|||||");console.log("resultado",JSON.parse(e[0])),console.log("resultado texto",e[1]),p(JSON.parse(e[0])),y(e[1])},n.onerror=function(){console.log(n.error)}}catch(e){console.log("error")}},ref:I,multiple:!1,className:"hidden"}),Object(k.jsxs)("button",{onClick:function(e){I.current.click()},className:"bg-blue-500 shadow-md hover:bg-blue-700  text-white text-icon-rest rounded-full",children:[Object(k.jsx)(me.a,{icon:ge.f}),Object(k.jsx)("span",{className:"hidden sm:block",children:"Importar"})]}),Object(k.jsxs)("button",{onClick:function(){var e=[JSON.stringify(s),"|||||",f],t=new Blob(e,{type:"text/plain;charset=utf-8"});Object(pe.saveAs)(t,"myArchivo.txt")},className:"bg-green-500 shadow-md hover:bg-green-700  text-white text-icon-rest rounded-full",children:[Object(k.jsx)(me.a,{icon:ge.e}),Object(k.jsx)("span",{className:"hidden sm:block",children:"Guardar"})]}),Object(k.jsxs)("button",{onClick:function(){C(!S)},className:"bg-green-500 shadow-md hover:bg-green-700  text-white text-icon-rest rounded-full",children:[Object(k.jsx)(me.a,{icon:ge.d}),Object(k.jsx)("span",{className:"hidden sm:block",children:"Ayuda"})]})]}),Object(k.jsxs)("div",{className:"relative",style:{height:"calc(100vh - 3rem)",width:"100vw"},children:[Object(k.jsx)("div",{className:"absolute flex flex-nowrap z-10",style:{height:"100%"},children:Object(k.jsx)(he.a,{in:v,timeout:800,className:"animate__animated",classNames:{enter:"animate__fadeInLeft animate__fast",exit:"animate__fadeOutLeft animate__fast"},unmountOnExit:!0,children:Object(k.jsx)("div",{className:"w-5/6 md:w-full",children:Object(k.jsx)(ue,{changeStateCallback:L,stateData:s,textoState:f,setTextoState:y})})})}),Object(k.jsx)("div",{className:"w-full h-full",children:Object(k.jsx)(O,{nodeDataArray:s.nodeDataArray,linkDataArray:s.linkDataArray,modelData:s.modelData,skipsDiagramUpdate:s.skipsDiagramUpdate,onDiagramEvent:function(e){if("ChangedSelection"===e.name){var i=e.subject.first();p(Object(h.a)((function(e){if(i){if(i instanceof u.Node){console.log("cambie");var a=t.get(i.key);if(void 0!==a&&a>=0){var r=e.nodeDataArray[a];e.selectedData=r}}else if(i instanceof u.Link){var o=n.get(i.key);if(void 0!==o&&o>=0){var s=e.linkDataArray[o];e.selectedData=s}}}else e.selectedData=null})))}},onModelChange:function(e){var i=e.insertedNodeKeys,a=e.modifiedNodeData,r=e.removedNodeKeys,o=(e.insertedLinkKeys,e.modifiedLinkData),s=e.removedLinkKeys,l=e.modelData,c=new Map,d=new Map;p(Object(h.a)((function(e){var u=e.nodeDataArray;a&&a.forEach((function(n){c.set(n.key,n);var i=t.get(n.key);void 0!==i&&i>=0&&(u[i]=n,e.selectedData&&e.selectedData.key===n.key&&(e.selectedData=n))})),i&&i.forEach((function(e){var n=c.get(e),i=t.get(e);n&&void 0===i&&(t.set(n.key,u.length),u.push(n))})),r&&(u=u.filter((function(e){return!r.includes(e.key)})),e.nodeDataArray=u,w(u));var h=e.linkDataArray;o&&o.forEach((function(t){d.set(t.key,t);var i=n.get(t.key);void 0!==i&&i>=0&&(h[i]=t,e.selectedData&&e.selectedData.key===t.key&&(e.selectedData=t))})),s&&(h=h.filter((function(e){return!s.includes(e.key)})),e.linkDataArray=h,A(h)),l&&(e.modelData=l),e.skipsDiagramUpdate=!0})))}})}),T,Object(k.jsx)("div",{className:"absolute right-0 top-0 z-20 overflow-hidden ",children:Object(k.jsx)(he.a,{in:S,timeout:800,className:"animate__animated relative  main-help overflow-y-auto flex flex-nowrap rounded-l-xl  bg-gray-800 h-full",classNames:{enter:"animate__fadeInRight animate__fast",exit:"animate__fadeOutRight animate__fast"},unmountOnExit:!0,children:Object(k.jsx)("div",{children:Object(k.jsx)(fe,{})})})})]})]})};n(100);o.a.render(Object(k.jsx)(ye,{}),document.getElementById("root"))},42:function(e,t,n){},65:function(e,t,n){},87:function(e,t,n){},90:function(e,t,n){var i={"./apl/apl.js":[118,30],"./asciiarmor/asciiarmor.js":[119,31],"./asn.1/asn.1.js":[120,32],"./asterisk/asterisk.js":[121,33],"./brainfuck/brainfuck.js":[122,34],"./clike/clike.js":[107,2],"./clojure/clojure.js":[123,35],"./cmake/cmake.js":[124,36],"./cobol/cobol.js":[125,37],"./coffeescript/coffeescript.js":[108,38],"./commonlisp/commonlisp.js":[126,39],"./crystal/crystal.js":[127,40],"./css/css.js":[104,1],"./cypher/cypher.js":[128,41],"./d/d.js":[129,42],"./dart/dart.js":[130,2,43],"./diff/diff.js":[131,44],"./django/django.js":[132,0,1,11],"./dockerfile/dockerfile.js":[133,21],"./dtd/dtd.js":[134,45],"./dylan/dylan.js":[135,46],"./ebnf/ebnf.js":[136,47],"./ecl/ecl.js":[137,48],"./eiffel/eiffel.js":[138,49],"./elm/elm.js":[139,50],"./erlang/erlang.js":[140,51],"./factor/factor.js":[141,22],"./fcl/fcl.js":[142,52],"./forth/forth.js":[143,53],"./fortran/fortran.js":[144,54],"./gas/gas.js":[145,55],"./gfm/gfm.js":[146,4,20],"./gherkin/gherkin.js":[147,56],"./go/go.js":[148,57],"./groovy/groovy.js":[149,58],"./haml/haml.js":[150,0,1,14],"./handlebars/handlebars.js":[109,16],"./haskell-literate/haskell-literate.js":[151,26],"./haskell/haskell.js":[110,59],"./haxe/haxe.js":[152,60],"./htmlembedded/htmlembedded.js":[153,0,1,10],"./htmlmixed/htmlmixed.js":[103,0,1,27],"./http/http.js":[154,61],"./idl/idl.js":[155,62],"./javascript/javascript.js":[105,0],"./jinja2/jinja2.js":[156,63],"./jsx/jsx.js":[157,0,28],"./julia/julia.js":[158,64],"./livescript/livescript.js":[159,65],"./lua/lua.js":[160,66],"./markdown/markdown.js":[115,4],"./mathematica/mathematica.js":[161,67],"./mbox/mbox.js":[162,68],"./meta.js":[41],"./mirc/mirc.js":[163,69],"./mllike/mllike.js":[164,70],"./modelica/modelica.js":[165,71],"./mscgen/mscgen.js":[166,72],"./mumps/mumps.js":[167,73],"./nginx/nginx.js":[168,74],"./nsis/nsis.js":[169,23],"./ntriples/ntriples.js":[170,75],"./octave/octave.js":[171,76],"./oz/oz.js":[172,77],"./pascal/pascal.js":[173,78],"./pegjs/pegjs.js":[174,0,79],"./perl/perl.js":[175,80],"./php/php.js":[176,0,1,2,17],"./pig/pig.js":[177,81],"./powershell/powershell.js":[178,82],"./properties/properties.js":[179,83],"./protobuf/protobuf.js":[180,84],"./pug/pug.js":[116,0,1,3],"./puppet/puppet.js":[181,85],"./python/python.js":[111,86],"./q/q.js":[182,87],"./r/r.js":[183,88],"./rpm/rpm.js":[184,89],"./rst/rst.js":[185,13],"./ruby/ruby.js":[106,90],"./rust/rust.js":[186,24],"./sas/sas.js":[187,91],"./sass/sass.js":[113,1,92],"./scheme/scheme.js":[188,93],"./shell/shell.js":[189,94],"./sieve/sieve.js":[190,95],"./slim/slim.js":[191,0,1,15],"./smalltalk/smalltalk.js":[192,96],"./smarty/smarty.js":[193,97],"./solr/solr.js":[194,98],"./soy/soy.js":[195,0,1,18],"./sparql/sparql.js":[196,99],"./spreadsheet/spreadsheet.js":[197,100],"./sql/sql.js":[198,101],"./stex/stex.js":[112,102],"./stylus/stylus.js":[117,5],"./swift/swift.js":[199,103],"./tcl/tcl.js":[200,104],"./textile/textile.js":[201,105],"./tiddlywiki/tiddlywiki.js":[202,106],"./tiki/tiki.js":[203,107],"./toml/toml.js":[204,108],"./tornado/tornado.js":[205,0,1,12],"./troff/troff.js":[206,109],"./ttcn-cfg/ttcn-cfg.js":[208,110],"./ttcn/ttcn.js":[207,111],"./turtle/turtle.js":[209,112],"./twig/twig.js":[210,19],"./vb/vb.js":[211,113],"./vbscript/vbscript.js":[212,114],"./velocity/velocity.js":[213,115],"./verilog/verilog.js":[214,116],"./vhdl/vhdl.js":[215,117],"./vue/vue.js":[216,0,1,5,3,9],"./wast/wast.js":[217,25],"./webidl/webidl.js":[218,118],"./xml/xml.js":[102,119],"./xquery/xquery.js":[219,120],"./yacas/yacas.js":[220,121],"./yaml-frontmatter/yaml-frontmatter.js":[221,29],"./yaml/yaml.js":[114,122],"./z80/z80.js":[222,123]};function a(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(a,7)}))}a.keys=function(){return Object.keys(i)},a.id=90,e.exports=a}},[[101,7,8]]]);
//# sourceMappingURL=main.f6ef596b.chunk.js.map