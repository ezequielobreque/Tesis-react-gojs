(this["webpackJsonptesis-cdbmd"]=this["webpackJsonptesis-cdbmd"]||[]).push([[6],{63:function(t,e,n){},85:function(t,e,n){},88:function(t,e,n){var i={"./apl/apl.js":[116,30],"./asciiarmor/asciiarmor.js":[117,31],"./asn.1/asn.1.js":[118,32],"./asterisk/asterisk.js":[119,33],"./brainfuck/brainfuck.js":[120,34],"./clike/clike.js":[105,2],"./clojure/clojure.js":[121,35],"./cmake/cmake.js":[122,36],"./cobol/cobol.js":[123,37],"./coffeescript/coffeescript.js":[106,38],"./commonlisp/commonlisp.js":[124,39],"./crystal/crystal.js":[125,40],"./css/css.js":[102,1],"./cypher/cypher.js":[126,41],"./d/d.js":[127,42],"./dart/dart.js":[128,2,43],"./diff/diff.js":[129,44],"./django/django.js":[130,0,1,11],"./dockerfile/dockerfile.js":[131,21],"./dtd/dtd.js":[132,45],"./dylan/dylan.js":[133,46],"./ebnf/ebnf.js":[134,47],"./ecl/ecl.js":[135,48],"./eiffel/eiffel.js":[136,49],"./elm/elm.js":[137,50],"./erlang/erlang.js":[138,51],"./factor/factor.js":[139,22],"./fcl/fcl.js":[140,52],"./forth/forth.js":[141,53],"./fortran/fortran.js":[142,54],"./gas/gas.js":[143,55],"./gfm/gfm.js":[144,4,20],"./gherkin/gherkin.js":[145,56],"./go/go.js":[146,57],"./groovy/groovy.js":[147,58],"./haml/haml.js":[148,0,1,14],"./handlebars/handlebars.js":[107,16],"./haskell-literate/haskell-literate.js":[149,26],"./haskell/haskell.js":[108,59],"./haxe/haxe.js":[150,60],"./htmlembedded/htmlembedded.js":[151,0,1,10],"./htmlmixed/htmlmixed.js":[101,0,1,27],"./http/http.js":[152,61],"./idl/idl.js":[153,62],"./javascript/javascript.js":[103,0],"./jinja2/jinja2.js":[154,63],"./jsx/jsx.js":[155,0,28],"./julia/julia.js":[156,64],"./livescript/livescript.js":[157,65],"./lua/lua.js":[158,66],"./markdown/markdown.js":[113,4],"./mathematica/mathematica.js":[159,67],"./mbox/mbox.js":[160,68],"./meta.js":[40],"./mirc/mirc.js":[161,69],"./mllike/mllike.js":[162,70],"./modelica/modelica.js":[163,71],"./mscgen/mscgen.js":[164,72],"./mumps/mumps.js":[165,73],"./nginx/nginx.js":[166,74],"./nsis/nsis.js":[167,23],"./ntriples/ntriples.js":[168,75],"./octave/octave.js":[169,76],"./oz/oz.js":[170,77],"./pascal/pascal.js":[171,78],"./pegjs/pegjs.js":[172,0,79],"./perl/perl.js":[173,80],"./php/php.js":[174,0,1,2,17],"./pig/pig.js":[175,81],"./powershell/powershell.js":[176,82],"./properties/properties.js":[177,83],"./protobuf/protobuf.js":[178,84],"./pug/pug.js":[114,0,1,3],"./puppet/puppet.js":[179,85],"./python/python.js":[109,86],"./q/q.js":[180,87],"./r/r.js":[181,88],"./rpm/rpm.js":[182,89],"./rst/rst.js":[183,13],"./ruby/ruby.js":[104,90],"./rust/rust.js":[184,24],"./sas/sas.js":[185,91],"./sass/sass.js":[111,1,92],"./scheme/scheme.js":[186,93],"./shell/shell.js":[187,94],"./sieve/sieve.js":[188,95],"./slim/slim.js":[189,0,1,15],"./smalltalk/smalltalk.js":[190,96],"./smarty/smarty.js":[191,97],"./solr/solr.js":[192,98],"./soy/soy.js":[193,0,1,18],"./sparql/sparql.js":[194,99],"./spreadsheet/spreadsheet.js":[195,100],"./sql/sql.js":[196,101],"./stex/stex.js":[110,102],"./stylus/stylus.js":[115,5],"./swift/swift.js":[197,103],"./tcl/tcl.js":[198,104],"./textile/textile.js":[199,105],"./tiddlywiki/tiddlywiki.js":[200,106],"./tiki/tiki.js":[201,107],"./toml/toml.js":[202,108],"./tornado/tornado.js":[203,0,1,12],"./troff/troff.js":[204,109],"./ttcn-cfg/ttcn-cfg.js":[206,110],"./ttcn/ttcn.js":[205,111],"./turtle/turtle.js":[207,112],"./twig/twig.js":[208,19],"./vb/vb.js":[209,113],"./vbscript/vbscript.js":[210,114],"./velocity/velocity.js":[211,115],"./verilog/verilog.js":[212,116],"./vhdl/vhdl.js":[213,117],"./vue/vue.js":[214,0,1,5,3,9],"./wast/wast.js":[215,25],"./webidl/webidl.js":[216,118],"./xml/xml.js":[100,119],"./xquery/xquery.js":[217,120],"./yacas/yacas.js":[218,121],"./yaml-frontmatter/yaml-frontmatter.js":[219,29],"./yaml/yaml.js":[112,122],"./z80/z80.js":[220,123]};function a(t){if(!n.o(i,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=i[t],a=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n.t(a,7)}))}a.keys=function(){return Object.keys(i)},a.id=88,t.exports=a},98:function(t,e,n){},99:function(t,e,n){"use strict";n.r(e);var i=n(2),a=n.n(i),r=n(20),o=n.n(r),s=n(21),l=n.n(s),c=n(51),d=(n(39),n(9)),u=n(0),h=n(33),m=n(11),p=n(17),g=n(19),f=n(18),y=n(55),j=n(56),b=n(16),v=function(t){Object(g.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(m.a)(this,n),(t=e.call(this)).guidelineHtop=void 0,t.guidelineHbottom=void 0,t.guidelineHcenter=void 0,t.guidelineVleft=void 0,t.guidelineVright=void 0,t.guidelineVcenter=void 0,t._guidelineSnapDistance=6,t._isGuidelineEnabled=!0,t._horizontalGuidelineColor="gray",t._verticalGuidelineColor="gray",t._centerGuidelineColor="gray",t._guidelineWidth=1,t._searchDistance=1e3,t._isGuidelineSnapEnabled=!0;var i={layerName:"Tool",isInDocumentBounds:!1},a={stroke:"gray",isGeometryPositioned:!0},r=u.GraphObject.make;return t.guidelineHtop=r(u.Part,i,r(u.Shape,a,{geometryString:"M0 0 100 0"})),t.guidelineHbottom=r(u.Part,i,r(u.Shape,a,{geometryString:"M0 0 100 0"})),t.guidelineHcenter=r(u.Part,i,r(u.Shape,a,{geometryString:"M0 0 100 0"})),t.guidelineVleft=r(u.Part,i,r(u.Shape,a,{geometryString:"M0 0 0 100"})),t.guidelineVright=r(u.Part,i,r(u.Shape,a,{geometryString:"M0 0 0 100"})),t.guidelineVcenter=r(u.Part,i,r(u.Shape,a,{geometryString:"M0 0 0 100"})),t}return Object(p.a)(n,[{key:"guidelineSnapDistance",get:function(){return this._guidelineSnapDistance},set:function(t){if("number"!==typeof t||isNaN(t)||t<0)throw new Error("new value for GuideddraggingTool.guidelineSnapDistance must be a non-negative number");this._guidelineSnapDistance!==t&&(this._guidelineSnapDistance=t)}},{key:"isGuidelineEnabled",get:function(){return this._isGuidelineEnabled},set:function(t){if("boolean"!==typeof t)throw new Error("new value for GuidedDraggingTool.isGuidelineEnabled must be a boolean value.");this._isGuidelineEnabled!==t&&(this._isGuidelineEnabled=t)}},{key:"horizontalGuidelineColor",get:function(){return this._horizontalGuidelineColor},set:function(t){this._horizontalGuidelineColor!==t&&(this._horizontalGuidelineColor=t,this.guidelineHbottom.elements.first().stroke=this._horizontalGuidelineColor,this.guidelineHtop.elements.first().stroke=this._horizontalGuidelineColor)}},{key:"verticalGuidelineColor",get:function(){return this._verticalGuidelineColor},set:function(t){this._verticalGuidelineColor!==t&&(this._verticalGuidelineColor=t,this.guidelineVleft.elements.first().stroke=this._verticalGuidelineColor,this.guidelineVright.elements.first().stroke=this._verticalGuidelineColor)}},{key:"centerGuidelineColor",get:function(){return this._centerGuidelineColor},set:function(t){this._centerGuidelineColor!==t&&(this._centerGuidelineColor=t,this.guidelineVcenter.elements.first().stroke=this._centerGuidelineColor,this.guidelineHcenter.elements.first().stroke=this._centerGuidelineColor)}},{key:"guidelineWidth",get:function(){return this._guidelineWidth},set:function(t){if("number"!==typeof t||isNaN(t)||t<0)throw new Error("New value for GuidedDraggingTool.guidelineWidth must be a non-negative number.");this._guidelineWidth!==t&&(this._guidelineWidth=t,this.guidelineVcenter.elements.first().strokeWidth=t,this.guidelineHcenter.elements.first().strokeWidth=t,this.guidelineVleft.elements.first().strokeWidth=t,this.guidelineVright.elements.first().strokeWidth=t,this.guidelineHbottom.elements.first().strokeWidth=t,this.guidelineHtop.elements.first().strokeWidth=t)}},{key:"searchDistance",get:function(){return this._searchDistance},set:function(t){if("number"!==typeof t||isNaN(t)||t<=0)throw new Error("new value for GuidedDraggingTool.searchDistance must be a positive number.");this._searchDistance!==t&&(this._searchDistance=t)}},{key:"isGuidelineSnapEnabled",get:function(){return this._isGuidelineSnapEnabled},set:function(t){if("boolean"!==typeof t)throw new Error("new value for GuidedDraggingTool.isGuidelineSnapEnabled must be a boolean.");this._isGuidelineSnapEnabled!==t&&(this._isGuidelineSnapEnabled=t)}},{key:"clearGuidelines",value:function(){this.diagram.remove(this.guidelineHbottom),this.diagram.remove(this.guidelineHcenter),this.diagram.remove(this.guidelineHtop),this.diagram.remove(this.guidelineVleft),this.diagram.remove(this.guidelineVright),this.diagram.remove(this.guidelineVcenter)}},{key:"doDeactivate",value:function(){Object(j.a)(Object(b.a)(n.prototype),"doDeactivate",this).call(this),this.clearGuidelines()}},{key:"doDragOver",value:function(t,e){this.clearGuidelines();var n=this.copiedParts||this.draggedParts;if(null!==n){var i=n.iterator;if(i.next()){var a=i.key;try{this.showHorizontalMatches(a,this.isGuidelineEnabled,!1),this.showVerticalMatches(a,this.isGuidelineEnabled,!1)}catch(r){console.error(r)}}}}},{key:"doDropOnto",value:function(t,e){this.clearGuidelines();var n=this.copiedParts||this.draggedParts;if(null!==n){var i=n.iterator;if(i.next()){var a=i.key,r=this.diagram.lastInput,o=this.isGuidelineSnapEnabled&&!r.shift;try{this.showHorizontalMatches(a,!1,o),this.showVerticalMatches(a,!1,o)}catch(r){console.error(r)}}}}},{key:"invalidateLinks",value:function(t){t instanceof u.Node&&t.invalidateConnectedLinks()}},{key:"showHorizontalMatches",value:function(t,e,n){var i=t.locationObject.getDocumentBounds(),a=i.y,r=i.y+i.height/2,o=i.y+i.height,s=this.guidelineSnapDistance,l=this.searchDistance,c=i.copy();c.inflate(l,s+1);var d=this.diagram.findObjectsIn(c,(function(t){return t.part}),(function(t){return t instanceof u.Part&&!t.isSelected&&!(t instanceof u.Link)&&t.isTopLevel&&null!==t.layer&&!t.layer.isTemporary}),!0),h=s,m=null,p=u.Spot.Default,g=u.Spot.Default;if(d.each((function(e){if(e!==t){var n=e.locationObject.getDocumentBounds(),i=n.y,s=n.y+n.height/2,l=n.y+n.height;Math.abs(r-s)<h&&(h=Math.abs(r-s),m=e,p=u.Spot.Center,g=u.Spot.Center),Math.abs(a-i)<h?(h=Math.abs(a-i),m=e,p=u.Spot.Top,g=u.Spot.Top):Math.abs(a-l)<h&&(h=Math.abs(a-l),m=e,p=u.Spot.Top,g=u.Spot.Bottom),Math.abs(o-i)<h?(h=Math.abs(o-i),m=e,p=u.Spot.Bottom,g=u.Spot.Top):Math.abs(o-l)<h&&(h=Math.abs(o-l),m=e,p=u.Spot.Bottom,g=u.Spot.Bottom)}})),null!==m){var f=i.x-t.actualBounds.x,y=i.y-t.actualBounds.y,j=m.locationObject.getDocumentBounds(),b=Math.min(i.x,j.x)-10,v=Math.max(i.x+i.width,j.x+j.width)+10,E=(new u.Point).setRectSpot(j,g);p===u.Spot.Center?(n&&(t.move(new u.Point(i.x-f,E.y-i.height/2-y)),this.invalidateLinks(t)),e&&(this.guidelineHcenter.position=new u.Point(b,E.y),this.guidelineHcenter.elt(0).width=v-b,this.diagram.add(this.guidelineHcenter))):p===u.Spot.Top?(n&&(t.move(new u.Point(i.x-f,E.y-y)),this.invalidateLinks(t)),e&&(this.guidelineHtop.position=new u.Point(b,E.y),this.guidelineHtop.elt(0).width=v-b,this.diagram.add(this.guidelineHtop))):p===u.Spot.Bottom&&(n&&(t.move(new u.Point(i.x-f,E.y-i.height-y)),this.invalidateLinks(t)),e&&(this.guidelineHbottom.position=new u.Point(b,E.y),this.guidelineHbottom.elt(0).width=v-b,this.diagram.add(this.guidelineHbottom)))}}},{key:"showVerticalMatches",value:function(t,e,n){var i=t.locationObject.getDocumentBounds(),a=i.x,r=i.x+i.width/2,o=i.x+i.width,s=this.guidelineSnapDistance,l=this.searchDistance,c=i.copy();c.inflate(s+1,l);var d=this.diagram.findObjectsIn(c,(function(t){return t.part}),(function(t){return t instanceof u.Part&&!t.isSelected&&!(t instanceof u.Link)&&t.isTopLevel&&null!==t.layer&&!t.layer.isTemporary}),!0),h=s,m=null,p=u.Spot.Default,g=u.Spot.Default;if(d.each((function(e){if(e!==t){var n=e.locationObject.getDocumentBounds(),i=n.x,s=n.x+n.width/2,l=n.x+n.width;Math.abs(r-s)<h&&(h=Math.abs(r-s),m=e,p=u.Spot.Center,g=u.Spot.Center),Math.abs(a-i)<h?(h=Math.abs(a-i),m=e,p=u.Spot.Left,g=u.Spot.Left):Math.abs(a-l)<h&&(h=Math.abs(a-l),m=e,p=u.Spot.Left,g=u.Spot.Right),Math.abs(o-i)<h?(h=Math.abs(o-i),m=e,p=u.Spot.Right,g=u.Spot.Left):Math.abs(o-l)<h&&(h=Math.abs(o-l),m=e,p=u.Spot.Right,g=u.Spot.Right)}})),null!==m){var f=i.x-t.actualBounds.x,y=i.y-t.actualBounds.y,j=m.locationObject.getDocumentBounds(),b=Math.min(i.y,j.y)-10,v=Math.max(i.y+i.height,j.y+j.height)+10,E=(new u.Point).setRectSpot(j,g);p===u.Spot.Center?(n&&(t.move(new u.Point(E.x-i.width/2-f,i.y-y)),this.invalidateLinks(t)),e&&(this.guidelineVcenter.position=new u.Point(E.x,b),this.guidelineVcenter.elt(0).height=v-b,this.diagram.add(this.guidelineVcenter))):p===u.Spot.Left?(n&&(t.move(new u.Point(E.x-f,i.y-y)),this.invalidateLinks(t)),e&&(this.guidelineVleft.position=new u.Point(E.x,b),this.guidelineVleft.elt(0).height=v-b,this.diagram.add(this.guidelineVleft))):p===u.Spot.Right&&(n&&(t.move(new u.Point(E.x-i.width-f,i.y-y)),this.invalidateLinks(t)),e&&(this.guidelineVright.position=new u.Point(E.x,b),this.guidelineVright.elt(0).height=v-b,this.diagram.add(this.guidelineVright)))}}}]),n}(u.DraggingTool),E=(n(63),n(1)),k=function(t){Object(g.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(m.a)(this,n),(a=e.call(this,t)).diagramRef=void 0,a.diagramRef=i.createRef(),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){if(this.diagramRef.current){var t=this.diagramRef.current.getDiagram();t instanceof u.Diagram&&t.addDiagramListener("ChangedSelection",this.props.onDiagramEvent)}}},{key:"componentWillUnmount",value:function(){if(this.diagramRef.current){var t=this.diagramRef.current.getDiagram();t instanceof u.Diagram&&t.removeDiagramListener("ChangedSelection",this.props.onDiagramEvent)}}},{key:"initDiagram",value:function(){var t=u.GraphObject.make,e=t(u.Diagram,{"undoManager.isEnabled":!0,"clickCreatingTool.archetypeNodeData":{text:"new node",color:"lightblue"},draggingTool:new v,"draggingTool.horizontalGuidelineColor":"blue","draggingTool.verticalGuidelineColor":"blue","draggingTool.centerGuidelineColor":"green","draggingTool.guidelineWidth":1,layout:t(u.ForceDirectedLayout,{isInitial:!1,setsPortSpots:!1}),model:t(u.GraphLinksModel,{linkKeyProperty:"key",makeUniqueKeyFunction:function(t,e){for(var n=e.key||1;t.findNodeDataForKey(n);)n++;return e.key=n,n},makeUniqueLinkKeyFunction:function(t,e){for(var n=e.key||-1;t.findLinkDataForKey(n);)n--;return e.key=n,n}})});function n(t){switch(t){case"H":return u.Panel.Horizontal;case"V":return u.Panel.Vertical;default:return u.Panel.Auto}}return e.nodeTemplate=t(u.Node,"Auto",new u.Binding("type","type",n),{background:"transparent"},new u.Binding("background","background"),new u.Binding("location","loc",u.Point.parse).makeTwoWay(u.Point.stringify),t(u.Shape,{fill:"white",strokeWidth:1,portId:"",strokeJoin:"round"},new u.Binding("fill","color"),new u.Binding("figure","fig"),new u.Binding("width","width"),new u.Binding("height","height")),t(u.TextBlock,{margin:8,editable:!0,font:"400 .875rem Roboto, sans-serif"},new u.Binding("text").makeTwoWay(),new u.Binding("stroke","stroke"),new u.Binding("margin"))),e.groupTemplate=t(u.Group,"Vertical",new u.Binding("location","loc",u.Point.parse).makeTwoWay(u.Point.stringify),t(u.Panel,"Auto",new u.Binding("type","type",n),{background:"transparent"},new u.Binding("background","background"),t(u.Shape,{fill:"white",strokeWidth:1,portId:"",strokeJoin:"round"},new u.Binding("fill","color"),new u.Binding("figure","fig"),new u.Binding("width","width"),new u.Binding("height","height")),t(u.TextBlock,{margin:8,editable:!0,font:"400 .875rem Roboto, sans-serif"},new u.Binding("text").makeTwoWay(),new u.Binding("stroke","stroke"),new u.Binding("margin")))),e.linkTemplate=t(u.Link,{selectionAdorned:!0,layerName:"Foreground",reshapable:!0,routing:u.Link.Orthogonal,corner:10,angle:360,curve:u.Link.JumpOver,segmentOrientation:u.Link.None},new u.Binding("fromSpot","fromSpot",u.Spot.parse),new u.Binding("toSpot","toSpot",u.Spot.parse),new u.Binding("routing","routing",(function(t){return"A"===t?u.Link.AvoidsNodes:u.Link.Normal})),t(u.Shape,new u.Binding("strokeDashArray","dash")),t(u.Shape,{stroke:"#303B45",strokeWidth:2.5,toArrow:""},new u.Binding("toArrow","arrow")),t(u.TextBlock,{textAlign:"center",font:"bold 14px sans-serif",stroke:"#1967B3",segmentIndex:0,segmentOffset:new u.Point(NaN,NaN),segmentOrientation:u.Link.None,angle:360},new u.Binding("alignmentFocus","align"),new u.Binding("text","text")),t(u.TextBlock,{textAlign:"center",font:"bold 14px sans-serif",stroke:"#1967B3",segmentIndex:-1,segmentOffset:new u.Point(NaN,NaN),segmentOrientation:u.Link.OrientUpright},new u.Binding("text","toText"))),e}},{key:"render",value:function(){return Object(E.jsx)(y.a,{ref:this.diagramRef,divClassName:"diagram-component",initDiagram:this.initDiagram,nodeDataArray:this.props.nodeDataArray,linkDataArray:this.props.linkDataArray,modelData:this.props.modelData,onModelChange:this.props.onModelChange,skipsDiagramUpdate:this.props.skipsDiagramUpdate})}}]),n}(i.Component),O=n(3),N=Object(O.createToken)({name:"True",pattern:/true/}),x=Object(O.createToken)({name:"False",pattern:/false/}),D=Object(O.createToken)({name:"LCurly",pattern:/{/}),S=Object(O.createToken)({name:"RCurly",pattern:/}/}),T=Object(O.createToken)({name:"LSquare",pattern:/\[/}),A=Object(O.createToken)({name:"RSquare",pattern:/]/}),C=Object(O.createToken)({name:"LRound",pattern:/\(/}),w=Object(O.createToken)({name:"RRound",pattern:/\)/}),L=Object(O.createToken)({name:"Comma",pattern:/,/}),I=Object(O.createToken)({name:"Colon",pattern:/:/}),R=Object(O.createToken)({name:"SemiColon",pattern:/;/}),U=Object(O.createToken)({name:"ENTITY",pattern:/ENTITY/}),M=Object(O.createToken)({name:"COVERAGE",pattern:/COVERAGE/}),P=Object(O.createToken)({name:"CHILD",pattern:/CHILD/}),G=Object(O.createToken)({name:"COMPOSITE",pattern:/COMPOSITE/}),B=Object(O.createToken)({name:"WEAK",pattern:/WEAK/}),F=Object(O.createToken)({name:"RELATIONSHIP",pattern:/RELATIONSHIP/}),_=Object(O.createToken)({name:"CALCULATED",pattern:/CALCULATED/}),H=Object(O.createToken)({name:"ATTRIBUTES",pattern:/ATTRIBUTES/}),V=Object(O.createToken)({name:"IDENTIFIER",pattern:/IDENTIFIER/}),K=Object(O.createToken)({name:"BY",pattern:/BY/}),W=Object(O.createToken)({name:"StringEntity",pattern:/[a-zA-Z]\w*/}),Y=Object(O.createToken)({name:"sqlExpretion",pattern:/'.*?'/}),z=Object(O.createToken)({name:"RelationNumber",pattern:/0|1|\bn\b|\bN\b/}),q=Object(O.createToken)({name:"JERARQUIA",pattern:/\bTOTAL\b|\bPARTIAL\b/}),J=Object(O.createToken)({name:"OF",pattern:/OF/}),Q=Object(O.createToken)({name:"COVERTURA",pattern:/\bEXCLUSIVE\b|\bOVERLAPPING\b/}),X=Object(O.createToken)({name:"WhiteSpace",pattern:/[ \t\n\r]+/,group:O.Lexer.SKIPPED}),Z=[D,S,T,A,L,I,N,x,C,w,R,U,M,P,B,K,V,G,F,_,H,q,J,Q,Y,X,z,W],$=new O.Lexer(Z),tt=new(function(t){Object(g.a)(n,t);var e=Object(f.a)(n);function n(){var t;return Object(m.a)(this,n),(t=e.call(this,Z)).TypeOfObject=t.RULE("TypeOfObject",(function(){t.MANY_SEP({SEP:R,DEF:function(){t.OR([{ALT:function(){return t.SUBRULE(t.entity)}},{ALT:function(){return t.SUBRULE(t.composite)}},{ALT:function(){return t.SUBRULE(t.relationship)}}])}})})),t.entity=t.RULE("Entity",(function(){t.CONSUME(U),t.CONSUME(W),t.OPTION((function(){return t.OR([{ALT:function(){return t.SUBRULE(t.child)}},{ALT:function(){return t.SUBRULE(t.coverage)}},{ALT:function(){return t.SUBRULE(t.weak)}}])})),t.CONSUME(D),t.MANY_SEP({SEP:L,DEF:function(){t.SUBRULE(t.propertyEntity)}}),t.CONSUME(S)})),t.propertyEntity=t.RULE("PropertyEntity",(function(){t.CONSUME(W),t.OPTION((function(){return t.OR([{ALT:function(){return t.CONSUME(V)}},{ALT:function(){return t.SUBRULE(t.manys)}},{ALT:function(){return t.SUBRULE(t.calculated)}}])}))})),t.relationship=t.RULE("Relationship",(function(){t.CONSUME(F),t.CONSUME(W),t.CONSUME(D),t.OPTION({DEF:function(){t.SUBRULE(t.attributesRelation)}}),t.MANY_SEP({SEP:L,DEF:function(){t.SUBRULE(t.relation)}}),t.CONSUME(S)})),t.relation=t.RULE("Relation",(function(){t.CONSUME(W),t.CONSUME(C),t.CONSUME1(z),t.CONSUME(L),t.CONSUME2(z),t.CONSUME(w)})),t.attributesRelation=t.RULE("AttributesRelation",(function(){t.CONSUME(H),t.CONSUME(D),t.MANY_SEP({SEP:L,DEF:function(){t.SUBRULE(t.propertyEntity)}}),t.CONSUME(S)})),t.manys=t.RULE("Manys",(function(){t.CONSUME(C),t.CONSUME1(z),t.CONSUME(L),t.CONSUME2(z),t.CONSUME(w)})),t.child=t.RULE("Child",(function(){t.CONSUME(P),t.CONSUME(J),t.CONSUME(W)})),t.weak=t.RULE("Weak",(function(){t.CONSUME(B),t.CONSUME(J),t.CONSUME(W)})),t.coverage=t.RULE("Coverage",(function(){t.CONSUME(M),t.CONSUME(C),t.CONSUME(q),t.CONSUME(L),t.CONSUME(Q),t.CONSUME(w)})),t.composite=t.RULE("Composite",(function(){t.CONSUME(G),t.CONSUME(W),t.CONSUME(D),t.AT_LEAST_ONE_SEP({SEP:L,DEF:function(){return t.SUBRULE(t.propierties)}}),t.CONSUME(S)})),t.calculated=t.RULE("Calculated",(function(){t.CONSUME(_),t.CONSUME(K),t.CONSUME(Y)})),t.propierties=t.RULE("Propierties",(function(){t.CONSUME(W)})),t.performSelfAnalysis(),t}return n}(O.CstParser));var et=n(38),nt=n.n(et),it=(n(85),n(7)),at=n.n(it),rt=function(){function t(){var e=this;Object(m.a)(this,t),this.Keys=0,this.KeysLink=0,this.location={H:0,W:0},this.stateData=void 0,this.totalLocation=0,this.arrayOfComposites=[],this.FinalDataNodes=this.initialData(),this.ArrayOfNodes={Entities:[],links:[]},this.GetLocation=function(){},this.TotalLocation=function(t){e.totalLocation=200*t},this.GetKey=function(){return e.Keys=e.Keys+1},this.GetKeyForLink=function(){return e.KeysLink=e.KeysLink+-1},this.createNodeGo=function(t){return{key:t.key,text:t.text,color:t.color,type:t.type||"A",margin:t.margin||8,loc:t.loc,stroke:t.stroke,isGroup:t.isGroup||void 0,fig:t.fig||"RoundedRectangle",height:t.height,width:t.width}},this.handleChild=function(t){},this.handleCoverage=function(t){},this.handleWeak=function(t){t.color="transparent"},this.searchEntityNodeInArrayOfNodes=function(t){var n=e.ArrayOfNodes.Entities.find((function(e){return e.nombre==t}));return null===n||void 0===n?void 0:n.key},this.searchParentNodeInArrayOfNodes=function(t){var n=e.searchEntityNodeInArrayOfNodes(t),i=e.ArrayOfNodes.Entities.find((function(t){return t.parent==n}));return null===i||void 0===i?void 0:i.key},this.entityAction=function(t){var n=null;if(t.children){var i;if(n={key:e.GetKey(),text:t.children.StringEntity[0].image,color:"pink",isGroup:!0},t.children.Weak&&e.handleWeak(n),e.FinalDataNodes.nodeDataArray.push(e.createNodeGo(n)),e.ArrayOfNodes.Entities.push({key:n.key,nombre:n.text,weak:t.children.Weak?t.children.Weak[0].children.StringEntity[0].image:void 0,parent:null,atributes:[]}),null!==n)e.handleProperties(null===t||void 0===t||null===(i=t.children)||void 0===i?void 0:i.PropertyEntity,n.key);if(t.children.Coverage){var a=e.createTriangle(n.key,"(".concat(t.children.Coverage[0].children.JERARQUIA[0].image.substring(0,1),", ").concat(t.children.Coverage[0].children.COVERTURA[0].image.substring(0,1),")")),r={Key:e.GetKeyForLink(),to:n.key,from:a.key,fromSpot:"Top",toSpot:"Bottom"};e.FinalDataNodes.linkDataArray.push(e.createPropertiesGo(r))}if(t.children.Child){var o={Key:e.GetKeyForLink(),to:e.searchParentNodeInArrayOfNodes(t.children.Child[0].children.StringEntity[0].image),from:n.key,fromSpot:"Top",toSpot:"Bottom"};e.FinalDataNodes.linkDataArray.push(e.createPropertiesGo(o))}else t.children.Coverage}},this.RelationshipAction=function(t){var n=null;t.children&&(n={key:e.GetKey(),text:t.children.StringEntity[0].image,color:"lightblue",margin:2,fig:"Diamond"},t.children&&null!==n&&t.children.Relation.map((function(i){var a=e.ArrayOfNodes.Entities.find((function(t){return t.nombre==i.children.StringEntity[0].image}));(null===a||void 0===a?void 0:a.weak)&&t.children.Relation.some((function(t){return t.children.StringEntity[0].image===a.weak}))&&(n.color="transparent")})),e.FinalDataNodes.nodeDataArray.push(e.createNodeGo(n)),t.children.AttributesRelation&&e.handleProperties(t.children.AttributesRelation[0].children.PropertyEntity,n.key)),t.children&&null!==n&&e.handleRelations(t.children.Relation,n.key)},this.compositeAction=function(t){var n=t.children.Propierties.map((function(t){return t.children.StringEntity[0].image}));if(n){var i={nombre:t.children.StringEntity[0].image,atributes:n};e.arrayOfComposites.push(i)}},this.addNodeData=function(){}}return Object(p.a)(t,[{key:"getAnCompositeOnArray",value:function(t){return this.arrayOfComposites.find((function(e){return e.nombre===t}))}},{key:"initialData",value:function(){return this.FinalDataNodes={nodeDataArray:[],linkDataArray:[],modelData:{canRelink:!0},selectedData:!0,skipsDiagramUpdate:!1}}},{key:"createPropertiesGo",value:function(t){return{Key:t.Key,align:t.align||void 0,from:t.from,routing:t.routing||void 0,fromSpot:t.fromSpot||void 0,text:t.text||void 0,dash:t.dash||void 0,to:t.to,toSpot:t.toSpot||void 0}}},{key:"handlePropertiesOfComposite",value:function(t,e){var n={key:this.GetKey(),text:t,margin:15,type:"H",color:"transparent",fig:"Ellipse",height:15,group:e,width:15};this.FinalDataNodes.nodeDataArray.push(n),this.FinalDataNodes.linkDataArray.push(this.createPropertiesGo({Key:this.GetKeyForLink(),to:n.key,from:e,routing:"N"}))}},{key:"moreThanOneIdentifier",value:function(t,e){var n,i,a,r,o,s=null===(n=this.ArrayOfNodes)||void 0===n||null===(i=n.Entities)||void 0===i?void 0:i.find((function(e){return e.key==t})),l=null===s||void 0===s||null===(a=s.atributes)||void 0===a?void 0:a.find((function(t){return!0===t.identity}));l&&l.key!==e&&(null===(r=this.FinalDataNodes)||void 0===r||null===(o=r.linkDataArray)||void 0===o||o.push(this.createPropertiesGo({Key:this.GetKeyForLink(),to:e,from:l.key,routing:"N",text:void 0})))}},{key:"handleProperties",value:function(t,e){var n=this;console.log(t),t&&t.map((function(t){var i={key:n.GetKey(),text:t.children.StringEntity[0].image,margin:15,type:"H",color:t.children.IDENTIFIER?"black":"transparent",fig:"Ellipse",height:15,group:e,width:15},a=n.getAnCompositeOnArray(i.text);void 0!==a&&(i.margin=void 0,i.type=void 0,i.isGroup=!0,i.height=void 0,i.width=void 0),n.FinalDataNodes.nodeDataArray.push(i),a&&a.atributes.map((function(t){n.handlePropertiesOfComposite(t,i.key)}));var r=n.ArrayOfNodes.Entities.find((function(t){return t.key==e}));r&&r.atributes.push({key:i.key,nombre:i.text,identity:!!t.children.IDENTIFIER}),n.FinalDataNodes.linkDataArray.push(n.createPropertiesGo({Key:n.GetKeyForLink(),to:i.key,from:e,routing:"N",dash:t.children.Calculated?[5,5]:void 0,text:n.handleCardinality(t.children)}))}))}},{key:"handleCardinality",value:function(t){if(t.Manys)return"(".concat(t.Manys[0].children.RelationNumber[0].image," , ").concat(t.Manys[0].children.RelationNumber[1].image,")")}},{key:"handleRelations",value:function(t,e){var n=this;null===t||void 0===t||t.map((function(t){var i={Key:n.GetKeyForLink(),to:e,from:n.searchEntityNodeInArrayOfNodes(t.children.StringEntity[0].image),routing:"N",text:"(".concat(t.children.RelationNumber[0].image," , ").concat(t.children.RelationNumber[1].image,")")};n.FinalDataNodes.linkDataArray.push(n.createPropertiesGo(i)),n.ArrayOfNodes.links.push({key:i.Key,to:e,from:n.searchEntityNodeInArrayOfNodes(t.children.StringEntity[0].image)})}))}},{key:"createTriangle",value:function(t,e){var n={key:this.GetKey(),text:e,color:"lawngreen",isGroup:!0,height:void 0,width:void 0,type:"A",margin:5,fig:"TriangleUp"};return this.FinalDataNodes.nodeDataArray.push(this.createNodeGo(n)),this.ArrayOfNodes.Entities.push({key:n.key,nombre:n.text,parent:t,atributes:[]}),n}},{key:"nodeIsExistinInDataNode",value:function(){var t,e,n,i,a=this;this.stateData&&((null===(t=this.stateData)||void 0===t||null===(e=t.nodeDataArray)||void 0===e?void 0:e.length)==(null===(n=this.FinalDataNodes)||void 0===n||null===(i=n.nodeDataArray)||void 0===i?void 0:i.length)?(this.FinalDataNodes.nodeDataArray.map((function(t){var e=a.stateData.nodeDataArray.find((function(e){return t.text==e.text}));e&&(t.loc=e.loc,at.a.remove(a.stateData.nodeDataArray,(function(t){return t.key===e.key})))})),this.FinalDataNodes.nodeDataArray.map((function(t){if(void 0===t.loc){var e,n=a.stateData.nodeDataArray.splice(0,1);t.loc=null===n||void 0===n||null===(e=n[0])||void 0===e?void 0:e.loc}}))):this.stateData.nodeDataArray.length>this.FinalDataNodes.nodeDataArray.length?this.FinalDataNodes.nodeDataArray.map((function(t){var e=a.stateData.nodeDataArray.find((function(e){return t.text==e.text}));e&&(t.loc=e.loc,at.a.remove(a.stateData.nodeDataArray,(function(t){return t.key===e.key})))})):this.stateData.nodeDataArray.length<this.FinalDataNodes.nodeDataArray.length&&this.FinalDataNodes.nodeDataArray.map((function(t){var e=a.stateData.nodeDataArray.find((function(e){return t.text==e.text}));e&&(t.loc=e.loc,at.a.remove(a.stateData.nodeDataArray,(function(t){return t.key===e.key})))})))}},{key:"ActionsFunctions",value:function(t,e){var n=this;if(console.log("\ud83d\ude80 ~ file: myFunctions.ts ~ line 418 ~ ActionsFunctionsClass ~ ActionsFunctions ~ stateData",e),this.FinalDataNodes=this.initialData(),this.stateData=JSON.parse(JSON.stringify(e)),this.Keys=0,this.KeysLink=0,this.totalLocation=0,this.arrayOfComposites=[],this.ArrayOfNodes={Entities:[],links:[]},t){var i=t,a=i.Entity,r=i.Relationship||[],o=i.Composite||[];null===o||void 0===o||o.map((function(t){n.compositeAction(t)})),null===a||void 0===a||a.map((function(t){n.entityAction(t)})),null===r||void 0===r||r.map((function(t){n.RelationshipAction(t)}))}return this.nodeIsExistinInDataNode(),this.FinalDataNodes}}]),t}(),ot=n(52);n(89),n(90),n(50),n(91),n(93);function st(t,e,n,i){!function(t,e,n,i,a){try{var r,o,s,l=i;at.a.forEach(l,(function(t){t.clear()})),l=[],at.a.forEach(t,(function(t){r={line:t.line-1,ch:t.column-1},o={line:t.line-1,ch:t.column-1+t.length},s=n.markText(r,o,{className:"markTextError",title:t.message}),l.push(s)})),at.a.forEach(e,(function(t){if(!isNaN(t.token.startLine)&&!isNaN(t.token.startOffset)&&!isNaN(t.token.endOffset)&&!isNaN(t.token.endLine)){r={line:t.token.startLine-1,ch:t.token.startColumn-1};var e=t.token;at.a.isEmpty(t.resyncedTokens)||(e=at.a.max(t.resyncedTokens).startOffset),o={line:e.endLine?e.endLine-1:e.startLine-1,ch:e.endColumn?e.endColumn:e.startColumn+e.image.length},s=n.markText(r,o,{className:"markTextError",title:null===t||void 0===t?void 0:t.message}),l.push(s)}})),a(l)}catch(c){console.log(c)}}(i.lexErrors,i.parseErrors,t,e,n)}var lt=function(t){var e=t.changeStateCallback,n=t.stateData,r=t.textoState,o=t.setTextoState,s=Object(i.useMemo)((function(){return new rt}),[]),l=Object(i.useState)([]),c=Object(d.a)(l,2),u=c[0],h=c[1],m=function(t,e){var i,a;try{console.log("\ud83d\ude80 ~ file: ParserGenerator.tsx ~ line 60 ~ useEffect ~ stateData",n),console.log("\ud83d\ude80 ~ file: ParserGenerator.tsx ~ line 27 ~ handleSubmit ~ \xf1exAndParseResult.lexErrors.length",t.lexErrors.length),nt.a.strictEqual(t.lexErrors.length,0),console.log("\ud83d\ude80 ~ file: ParserGenerator.tsx ~ line 29 ~ handleSubmit ~ lexAndParseResult.parseErrors",t.parseErrors),nt.a.strictEqual(t.parseErrors.length,0),console.log("\ud83d\ude80 ~ file: ParserGenerator.tsx ~ line 32 ~ handleSubmit ~ lexAndParseResult",t)}catch(o){console.log(o)}if(t.cst&&0===(null===t||void 0===t||null===(i=t.parseErrors)||void 0===i?void 0:i.length)&&0===(null===t||void 0===t||null===(a=t.lexErrors)||void 0===a?void 0:a.length)){var r=function(t,e,n,i){var a=e;at.a.forEach(a,(function(t){t.clear()})),a=[];var r=i;console.log(r);var o=r.Entity,s=r.Relationship||[],l=r.Composite||[],c=new Map,d=new Map,u=0;return null===l||void 0===l||l.map((function(t){c.has(t.children.StringEntity[0].image)?d.set(t.children.StringEntity[0].image,t):c.set(t.children.StringEntity[0].image,t)})),null===o||void 0===o||o.map((function(t){c.has(t.children.StringEntity[0].image)?d.set(t.children.StringEntity[0].image,t):c.set(t.children.StringEntity[0].image,t)})),null===s||void 0===s||s.map((function(t){c.has(t.children.StringEntity[0].image)?d.set(t.children.StringEntity[0].image,t):c.set(t.children.StringEntity[0].image,t)})),null===d||void 0===d||d.forEach((function(e){u+=1;var n={line:e.children.StringEntity[0].startLine-1,ch:e.children.StringEntity[0].startColumn-1},i={line:e.children.StringEntity[0].endLine-1,ch:e.children.StringEntity[0].endColumn},r=t.markText(n,i,{className:"markTextError",title:"Elemento repetido"});a.push(r)})),n(a),u}(e,u,h,t.cst.children);return console.log(r),0===r?t.cst.children:null}return null};Object(i.useEffect)((function(){console.log(u)}),[u]);var p=a.a.useCallback((function(t,i){o(t.getValue());var a=function(t){var e=$.tokenize(t);return tt.input=e.tokens,{cst:tt.TypeOfObject(),lexErrors:e.errors,parseErrors:tt.errors}}(t.getValue());st(t,u,h,a);var r=m(a,t);r&&function(t,n,i){var a=s.ActionsFunctions(t,n);a&&e(a,i)}(r,n,t.getValue())}),[n,u,m]),g=Object(i.useMemo)((function(){return at.a.debounce(p,2e3)}),[p]);return Object(E.jsx)("div",{className:"w-full h-full parse-generator",children:Object(E.jsx)(ot.a,{value:r,onChange:g,options:{mode:"text",lineNumbers:!0,theme:"dracula",tabSize:1}})})},ct=n(222),dt=n(54),ut=n(13),ht=n(12),mt=function(){var t=Object(i.useState)(""),e=Object(d.a)(t,2),n=e[0],a=e[1],r=function(){return Object(E.jsx)("div",{children:Object(E.jsxs)("button",{onClick:function(){a("")},className:"border-gray-200 rounded-md border-2 p-1",children:[Object(E.jsx)(ht.a,{icon:ut.a})," VOLVER"]})})};return Object(E.jsxs)("div",{className:"w-full",children:[!n&&["Entidades","Atributos","Relaciones","Herencia","Ejemplo"].map((function(t){return Object(E.jsx)("div",{className:"text-2xl text-gray-200 py-2 px-4 cursor-pointer",onClick:function(){a(t)},children:Object(E.jsx)("div",{children:t})},t)})),!!n&&Object(E.jsx)("div",{className:"text-gray-200 p-2",children:function(t){switch(t){case"Entidades":return Object(E.jsxs)("div",{children:[Object(E.jsx)(r,{}),Object(E.jsx)("div",{className:"text-2xl text-center py-2",children:"Entidades"}),Object(E.jsx)("div",{className:"py-2",children:"Las entidades representan clases de objetos de la realidad"}),Object(E.jsx)("div",{className:"py-2",children:"El siguiente es un ejemplo de la entidad Producto con "}),Object(E.jsx)("div",{className:"py-2 whitespace-pre-line",children:"ENTITY producto{\n\t\t\t\t\t\t\tcodigo IDENTIFIER,\n\t\t\t\t\t\t\tdescripcion\n\t\t\t\t\t\t\t}"})]});case"Relaciones":return Object(E.jsxs)("div",{children:[Object(E.jsx)(r,{}),Object(E.jsx)("div",{className:"text-2xl text-center py-2",children:"Relaciones"}),Object(E.jsx)("div",{className:"py-2",children:"Las relaciones representan agregaciones de dos o m\xe1s entidades"}),Object(E.jsx)("div",{className:"py-2",children:"El siguiente es un ejemplo de una relacion entre producto y linea "}),Object(E.jsx)("div",{className:"py-2 whitespace-pre-line",children:"ENTITY producto{\n\t\t\t\t\t\t\tcodigo IDENTIFIER,\n\t\t\t\t\t\t\tdescripcion\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tRELATIONSHIP tiene{\n\t\t\t\t\t\t\t\tlinea (1, 1),\n\t\t\t\t\t\t\t\tproducto (1, N)\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tENTITY linea{\n\t\t\t\t\t\t\t\tnumero IDENTIFIER,\n\t\t\t\t\t\t\t\tprecio,\n\t\t\t\t\t\t\t\tcantidad,\n\t\t\t\t\t\t\t\tsubtotal CALCULATED BY 'precio * cantidad'\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t"})]});case"Atributos":return Object(E.jsxs)("div",{children:[Object(E.jsx)(r,{}),Object(E.jsx)("div",{className:"text-2xl text-center py-2",children:"Atributos"}),Object(E.jsx)("div",{className:"py-2",children:"representan las propiedades b\xe1sicas de las entidades o relaciones"}),Object(E.jsx)("div",{className:"py-2",children:"El siguiente es un ejemplo de persona con atributos simples calculados y compuestos"}),Object(E.jsx)("div",{className:"py-2 whitespace-pre-line",children:"\n\t\t\t\t\t\t\tCOMPOSITE domicilio{\n\t\t\t\t\t\t\t\tciudad,\n\t\t\t\t\t\t\t\tcalle,\n\t\t\t\t\t\t\t\tnumero\n\t\t\t\t\t\t\t};\n                            ENTITY persona{\n                                documento IDENTIFIER,\n                                cuil IDENTIFIER,\n                                nacimiento,\n                                edad CALCULATED BY 'HOY - nacimiento',\n                                nombre,\n                                celular (0,1),\n                                domicilio\n                            }\n                            "})]});case"Herencia":return Object(E.jsxs)("div",{children:[Object(E.jsx)(r,{}),Object(E.jsx)("div",{className:"text-2xl text-center py-2",children:"Herencia"}),Object(E.jsx)("div",{className:"py-2",children:'Una abstracci\xf3n de generalizaci\xf3n establece una correspondencia entre la clase gen\xe9rica "(ra\xedz)" y las clases subconjunto.'}),Object(E.jsx)("div",{className:"py-2",children:"El siguiente es un ejemplo de herencia para la clase persona."}),Object(E.jsx)("div",{className:"py-2 whitespace-pre-line",children:"\n                            ENTITY persona COVERAGE (PARTIAL, OVERLAPPING){\n                                documento IDENTIFIER,\n                                cuil IDENTIFIER,\n                                nacimiento,\n                                edad CALCULATED BY 'HOY - nacimiento',\n                                nombre,\n                                celular (0,1),\n                                domicilio\n                            };\n                            \n                            ENTITY proveedor CHILD OF persona{\n                                cuit IDENTIFIER \n                            };\n                            ENTITY proveedorer CHILD OF persona{\n                                cuit IDENTIFIER \n                            }\n                            "})]});case"Ejemplo":return Object(E.jsxs)("div",{children:[Object(E.jsx)(r,{}),Object(E.jsx)("div",{className:"text-2xl text-center py-2",children:"Ejemplo"}),Object(E.jsx)("div",{className:"py-2",children:"El ejemplode abajo es un modelo t\xedpico de factura"}),Object(E.jsx)("div",{className:"py-2",children:"podes copiarlo y pegarlo en la aplicacion"}),Object(E.jsx)("div",{className:"py-2 whitespace-pre-line",children:"\n                        COMPOSITE domicilio{\n\t\t\t\t\t\t\tciudad,\n\t\t\t\t\t\t\tcalle,\n\t\t\t\t\t\t\tnumero\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tENTITY persona COVERAGE (PARTIAL, OVERLAPPING){\n\t\t\t\t\t\t\tdocumento IDENTIFIER,\n\t\t\t\t\t\t\tcuil IDENTIFIER,\n\t\t\t\t\t\t\tnacimiento,\n\t\t\t\t\t\t\tedad CALCULATED BY 'HOY - nacimiento',\n\t\t\t\t\t\t\tnombre,\n\t\t\t\t\t\t\tcelular (0,1),\n\t\t\t\t\t\t\tdomicilio\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tENTITY proveedor CHILD OF persona{\n\t\t\t\t\t\t\tcuit IDENTIFIER \n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tENTITY empleado CHILD OF persona{\n\t\t\t\t\t\t\tlegajo IDENTIFIER\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tENTITY factura{\n\t\t\t\t\t\t\ttipo IDENTIFIER,\n\t\t\t\t\t\t\tnumero,\n\t\t\t\t\t\t\tfecha,\n\t\t\t\t\t\t\ttotal CALCULATED BY 'SUM(linea.subtotal)'\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tRELATIONSHIP atendio{\n\t\t\t\t\t\t\tfactura (1, 1),\n\t\t\t\t\t\t\templeado (1, N)\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tRELATIONSHIP compro{\n\t\t\t\t\t\t\tfactura (1, 1),\n\t\t\t\t\t\t\tpersona (1, N)\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tENTITY linea WEAK OF factura{\n\t\t\t\t\t\t\tnumero IDENTIFIER,\n\t\t\t\t\t\t\tprecio,\n\t\t\t\t\t\t\tcantidad,\n\t\t\t\t\t\t\tsubtotal CALCULATED BY 'precio * cantidad'\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tENTITY producto{\n\t\t\t\t\t\t\tcodigo IDENTIFIER,\n\t\t\t\t\t\t\tdescripcion\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tRELATIONSHIP tiene{\n\t\t\t\t\t\t\tlinea (1, 1),\n\t\t\t\t\t\t\tproducto (1, N)\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t\tRELATIONSHIP provee{\n\t\t\t\t\t\t\tproducto (1, N),\n\t\t\t\t\t\t\tproveedor (1, N)\n\t\t\t\t\t\t};\n\t\t\t\t\t\tRELATIONSHIP pertenece{\n\t\t\t\t\t\t\tlinea (1, 1),\n\t\t\t\t\t\t\tfactura (1, N)\n\t\t\t\t\t\t}\n                            "})]})}}(n)})]})},pt=function(t){var e=new Map,n=new Map,a={nodeDataArray:[],linkDataArray:[],modelData:{canRelink:!0},selectedData:null,skipsDiagramUpdate:!1},r=Object(i.useState)(a),o=Object(d.a)(r,2),s=o[0],m=o[1],p=Object(i.useState)(""),g=Object(d.a)(p,2),f=g[0],y=g[1],j=Object(i.useState)(!0),b=Object(d.a)(j,2),v=b[0],O=b[1],N=Object(i.useState)(!1),x=Object(d.a)(N,2),D=x[0],S=x[1],T=function(t){e.clear(),null===t||void 0===t||t.forEach((function(t,n){e.set(t.key,n)}))},A=function(t){n.clear(),null===t||void 0===t||t.forEach((function(t,e){n.set(t.key,e)}))};T(s.nodeDataArray),A(s.linkDataArray);var C=i.useCallback(function(){var t=Object(c.a)(l.a.mark((function t(e,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m(a),setTimeout((function(){T(e.nodeDataArray),A(e.linkDataArray),m(e),y(n)}),10);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),[]),w=s.selectedData;i.useEffect((function(){console.log(s)}),[w]);var L=i.useRef(null);return Object(E.jsxs)("div",{className:"w-screen h-screen",children:[Object(E.jsxs)("nav",{className:"bg-gray-800 z-50 w-full flex p-2 gap-6 md:gap-8",children:[Object(E.jsx)("div",{className:"text-gray-200 text-2xl",children:" CDBMD "}),Object(E.jsx)("button",{className:"text-white text-icon-code",onClick:function(){O((function(t){return!t}))},children:Object(E.jsx)(ht.a,{icon:ut.b})}),Object(E.jsxs)("button",{className:"bg-red-500 shadow-md hover:bg-red-700 \r text-white text-icon-rest rounded-full",children:[Object(E.jsx)(ht.a,{icon:ut.c}),Object(E.jsx)("span",{className:"hidden sm:block",children:"Nuevo"})]}),Object(E.jsx)("input",{type:"file",name:"Importar",onChange:function(t){try{var e=t.target.files[0],n=new FileReader;n.readAsText(e),n.onload=function(){var t=n.result.split("|||||");console.log("resultado",JSON.parse(t[0])),console.log("resultado texto",t[1]),m(JSON.parse(t[0])),y(t[1])},n.onerror=function(){console.log(n.error)}}catch(t){console.log("error")}},ref:L,multiple:!1,className:"hidden"}),Object(E.jsxs)("button",{onClick:function(t){L.current.click()},className:"bg-blue-500 shadow-md hover:bg-blue-700 \r text-white text-icon-rest rounded-full",children:[Object(E.jsx)(ht.a,{icon:ut.f}),Object(E.jsx)("span",{className:"hidden sm:block",children:"Importar"})]}),Object(E.jsxs)("button",{onClick:function(){var t=[JSON.stringify(s),"|||||",f],e=new Blob(t,{type:"text/plain;charset=utf-8"});Object(dt.saveAs)(e,"myArchivo.txt")},className:"bg-green-500 shadow-md hover:bg-green-700 \r text-white text-icon-rest rounded-full",children:[Object(E.jsx)(ht.a,{icon:ut.e}),Object(E.jsx)("span",{className:"hidden sm:block",children:"Guardar"})]}),Object(E.jsxs)("button",{onClick:function(){S(!D)},className:"bg-green-500 shadow-md hover:bg-green-700 \r text-white text-icon-rest rounded-full",children:[Object(E.jsx)(ht.a,{icon:ut.d}),Object(E.jsx)("span",{className:"hidden sm:block",children:"Ayuda"})]})]}),Object(E.jsxs)("div",{className:"relative",style:{height:"calc(100vh - 3rem)",width:"100vw"},children:[Object(E.jsx)("div",{className:"absolute flex flex-nowrap z-10",style:{height:"100%"},children:Object(E.jsx)(ct.a,{in:v,timeout:800,className:"animate__animated",classNames:{enter:"animate__fadeInLeft animate__fast",exit:"animate__fadeOutLeft animate__fast"},unmountOnExit:!0,children:Object(E.jsx)("div",{className:"w-5/6 md:w-full",children:Object(E.jsx)(lt,{changeStateCallback:C,stateData:s,textoState:f,setTextoState:y})})})}),Object(E.jsx)("div",{className:"w-full h-full",children:Object(E.jsx)(k,{nodeDataArray:s.nodeDataArray,linkDataArray:s.linkDataArray,modelData:s.modelData,skipsDiagramUpdate:s.skipsDiagramUpdate,onDiagramEvent:function(t){if("ChangedSelection"===t.name){var i=t.subject.first();m(Object(h.a)((function(t){if(i){if(i instanceof u.Node){console.log("cambie");var a=e.get(i.key);if(void 0!==a&&a>=0){var r=t.nodeDataArray[a];t.selectedData=r}}else if(i instanceof u.Link){var o=n.get(i.key);if(void 0!==o&&o>=0){var s=t.linkDataArray[o];t.selectedData=s}}}else t.selectedData=null})))}},onModelChange:function(t){var i=t.insertedNodeKeys,a=t.modifiedNodeData,r=t.removedNodeKeys,o=(t.insertedLinkKeys,t.modifiedLinkData),s=t.removedLinkKeys,l=t.modelData,c=new Map,d=new Map;m(Object(h.a)((function(t){var u=t.nodeDataArray;a&&a.forEach((function(n){c.set(n.key,n);var i=e.get(n.key);void 0!==i&&i>=0&&(u[i]=n,t.selectedData&&t.selectedData.key===n.key&&(t.selectedData=n))})),i&&i.forEach((function(t){var n=c.get(t),i=e.get(t);n&&void 0===i&&(e.set(n.key,u.length),u.push(n))})),r&&(u=u.filter((function(t){return!r.includes(t.key)})),t.nodeDataArray=u,T(u));var h=t.linkDataArray;o&&o.forEach((function(e){d.set(e.key,e);var i=n.get(e.key);void 0!==i&&i>=0&&(h[i]=e,t.selectedData&&t.selectedData.key===e.key&&(t.selectedData=e))})),s&&(h=h.filter((function(t){return!s.includes(t.key)})),t.linkDataArray=h,A(h)),l&&(t.modelData=l),t.skipsDiagramUpdate=!0})))}})}),Object(E.jsx)("div",{className:"absolute right-0 top-0 z-20 overflow-hidden ",children:Object(E.jsx)(ct.a,{in:D,timeout:800,className:"animate__animated relative  main-help overflow-y-auto flex flex-nowrap rounded-l-xl  bg-gray-800 h-full",classNames:{enter:"animate__fadeInRight animate__fast",exit:"animate__fadeOutRight animate__fast"},unmountOnExit:!0,children:Object(E.jsx)("div",{children:Object(E.jsx)(mt,{})})})})]})]})};n(98);o.a.render(Object(E.jsx)(pt,{}),document.getElementById("root"))}},[[99,7,8]]]);
//# sourceMappingURL=main.37d73249.chunk.js.map